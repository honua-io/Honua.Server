{
  "catalog": {
    "id": "honua-sample",
    "title": "Honua Sample Catalog",
    "description": "Metadata for sample datasets",
    "version": "1.0.0",
    "keywords": [
      "transportation"
    ],
    "links": [
      {
        "href": "https://honua.dev/catalog",
        "rel": "about",
        "type": "text/html",
        "title": "Catalog"
      }
    ],
    "contact": {
      "name": "Honua Support",
      "email": "support@honua.dev"
    },
    "extents": {
      "spatial": {
        "bbox": [
          [
            -180,
            -90,
            180,
            90
          ]
        ],
        "crs": "EPSG:4326"
      }
    }
  },
  "folders": [
    {
      "id": "transportation",
      "title": "Transportation"
    }
  ],
  "dataSources": [
    {
      "id": "sqlite-primary",
      "provider": "sqlite",
      "connectionString": "Data Source=file:honua-test?mode=memory&cache=shared"
    }
  ],
  "services": [
    {
      "id": "roads",
      "title": "Road Centerlines",
      "folderId": "transportation",
      "serviceType": "feature",
      "dataSourceId": "sqlite-primary",
      "enabled": true,
      "description": "Road centerline reference layer",
      "catalog": {
        "summary": "Road centerline reference layer",
        "keywords": [
          "roads",
          "transportation"
        ],
        "thumbnail": "https://example.org/thumbs/roads.png"
      },
      "ogc": {
        "collectionsEnabled": true,
        "itemLimit": 1000
      }
    }
  ],
  "layers": [
    {
      "id": "roads-primary",
      "serviceId": "roads",
      "title": "Primary Roads",
      "geometryType": "Polyline",
      "idField": "road_id",
      "displayField": "name",
      "geometryField": "geom",
      "crs": [
        "EPSG:4326",
        "EPSG:3857"
      ],
      "catalog": {
        "summary": "Primary roads for routing",
        "keywords": [
          "roads"
        ],
        "spatialExtent": {
          "bbox": [
            [
              -122.6,
              45.5,
              -122.3,
              45.7
            ]
          ],
          "crs": "EPSG:4326"
        }
      },
      "storage": {
        "table": "roads_primary",
        "geometryColumn": "geom",
        "primaryKey": "road_id",
        "temporalColumn": "observed_at",
        "srid": 4326
      },
      "extent": {
        "spatial": {
          "bbox": [
            [
              -122.6,
              45.5,
              -122.3,
              45.7
            ]
          ],
          "crs": "EPSG:4326"
        },
        "temporal": {
          "interval": [
            [
              "2024-01-01T00:00:00Z",
              "2024-12-31T23:59:59Z"
            ]
          ],
          "trs": "http://www.opengis.net/def/uom/ISO-8601/0/Gregorian"
        }
      },
      "styles": {
        "defaultStyleId": "primary-roads-line",
        "styleIds": [
          "primary-roads-line"
        ]
      },
      "fields": [
        {
          "name": "road_id",
          "dataType": "int",
          "nullable": false
        },
        {
          "name": "name",
          "dataType": "string"
        },
        {
          "name": "status",
          "dataType": "string"
        },
        {
          "name": "observed_at",
          "dataType": "datetime"
        },
        {
          "name": "geom",
          "dataType": "string"
        }
      ],
      "links": [
        {
          "rel": "tilejson",
          "type": "application/json",
          "title": "Roads imagery tiles",
          "href": "/ogc/collections/roads::roads-primary/tiles/roads-imagery/tilejson"
        }
      ],
      "relationships": [
        {
          "id": 1,
          "relatedLayerId": "roads-inspections",
          "keyField": "road_id",
          "relatedKeyField": "road_id",
          "cardinality": "esriRelCardinalityOneToMany",
          "role": "esriRelRoleOrigin",
          "semantics": "pkfk"
        }
      ]
    },
    {
      "id": "roads-inspections",
      "serviceId": "roads",
      "title": "Road Inspections",
      "geometryType": "Point",
      "idField": "inspection_id",
      "displayField": "inspector",
      "geometryField": "geom",
      "crs": [
        "EPSG:4326"
      ],
      "catalog": {
        "summary": "Inspection records associated with primary roads"
      },
      "storage": {
        "table": "roads_inspections",
        "geometryColumn": "geom",
        "primaryKey": "inspection_id",
        "temporalColumn": "observed_at",
        "srid": 4326
      },
      "extent": {
        "spatial": {
          "bbox": [
            [
              -122.6,
              45.5,
              -122.3,
              45.7
            ]
          ],
          "crs": "EPSG:4326"
        },
        "temporal": {
          "interval": [
            [
              "2024-01-01T00:00:00Z",
              "2024-12-31T23:59:59Z"
            ]
          ],
          "trs": "http://www.opengis.net/def/uom/ISO-8601/0/Gregorian"
        }
      },
      "styles": {
        "defaultStyleId": "inspection-point",
        "styleIds": [
          "inspection-point"
        ]
      },
      "fields": [
        {
          "name": "inspection_id",
          "dataType": "int",
          "nullable": false
        },
        {
          "name": "road_id",
          "dataType": "int",
          "nullable": false
        },
        {
          "name": "inspector",
          "dataType": "string"
        },
        {
          "name": "status",
          "dataType": "string"
        },
        {
          "name": "observed_at",
          "dataType": "datetime"
        },
        {
          "name": "geom",
          "dataType": "string"
        }
      ],
      "relationships": []
    }
  ],
  "rasterDatasets": [
    {
      "id": "roads-imagery",
      "title": "Roads Imagery",
      "serviceId": "roads",
      "layerId": "roads-primary",
      "crs": [
        "EPSG:4326"
      ],
      "source": {
        "type": "cog",
        "uri": "file:///tmp/placeholder.tif",
        "mediaType": "image/tiff; application=geotiff; profile=cloud-optimized"
      },
      "extent": {
        "bbox": [
          [
            -10,
            -10,
            10,
            10
          ],
          [
            10,
            10,
            20,
            20
          ]
        ],
        "temporal": {
          "interval": [
            [
              "2024-01-01T00:00:00Z",
              "2024-01-02T00:00:00Z"
            ],
            [
              "2024-02-01T00:00:00Z",
              "2024-02-02T00:00:00Z"
            ]
          ]
        }
      },
      "catalog": {
        "summary": "Roads imagery tiles",
        "keywords": [
          "imagery",
          "roads"
        ],
        "thumbnail": "https://example.org/thumbs/roads.png"
      },
      "styles": {
        "defaultStyleId": "natural-color",
        "styleIds": [
          "natural-color",
          "infrared"
        ]
      }
    },
    {
      "id": "roads-imagery-alt",
      "title": "Roads Imagery Infrared",
      "serviceId": "roads",
      "layerId": "roads-primary",
      "crs": [
        "EPSG:3857",
        "EPSG:4326"
      ],
      "source": {
        "type": "geotiff",
        "uri": "file:///tmp/placeholder.tif"
      },
      "styles": {
        "defaultStyleId": "infrared",
        "styleIds": [
          "infrared",
          "natural-color"
        ]
      }
    },
    {
      "id": "roads-primary-vector",
      "title": "Roads Vector Tiles",
      "serviceId": "roads",
      "layerId": "roads-primary",
      "crs": [
        "EPSG:4326"
      ],
      "source": {
        "type": "vector",
        "uri": "https://example.test/tiles/roads-primary-vector.geojson",
        "mediaType": "application/geo+json"
      },
      "extent": {
        "bbox": [
          [
            -122.6,
            45.5,
            -122.3,
            45.7
          ]
        ],
        "temporal": {
          "interval": [
            [
              "2024-01-01T00:00:00Z",
              "2024-12-31T23:59:59Z"
            ]
          ]
        }
      }
    }
  ],
  "styles": [
    {
      "id": "primary-roads-line",
      "title": "Primary Roads Line",
      "renderer": "simple",
      "format": "mvp-style",
      "geometryType": "line",
      "rules": [
        {
          "id": "default",
          "default": true,
          "symbolizer": {
            "symbolType": "line",
            "strokeColor": "#FF8800FF",
            "strokeWidth": 2.0
          }
        }
      ],
      "simple": {
        "symbolType": "line",
        "strokeColor": "#FF8800FF",
        "strokeWidth": 2.0
      }
    },
    {
      "id": "natural-color",
      "title": "Natural Color",
      "renderer": "simple",
      "format": "mvp-style",
      "geometryType": "raster",
      "simple": {
        "symbolType": "polygon",
        "fillColor": "#5AA06EFF",
        "strokeColor": "#FFFFFFFF",
        "strokeWidth": 1.5
      }
    },
    {
      "id": "inspection-point",
      "title": "Inspection Point",
      "renderer": "simple",
      "format": "mvp-style",
      "geometryType": "point",
      "rules": [
        {
          "id": "default",
          "default": true,
          "symbolizer": {
            "symbolType": "point",
            "fillColor": "#0078FFFF",
            "strokeColor": "#FFFFFFFF",
            "strokeWidth": 1.0
          }
        }
      ],
      "simple": {
        "symbolType": "point",
        "fillColor": "#0078FFFF",
        "strokeColor": "#FFFFFFFF",
        "strokeWidth": 1.0
      }
    },
    {
      "id": "infrared",
      "title": "Infrared",
      "renderer": "simple",
      "format": "mvp-style",
      "geometryType": "raster",
      "simple": {
        "symbolType": "polygon",
        "fillColor": "#DC5578FF",
        "strokeColor": "#FFFFFFFF",
        "strokeWidth": 1.5
      }
    }
  ],
  "server": {
    "allowedHosts": [
      "localhost"
    ],
    "security": {
      "allowedRasterDirectories": [
        "/data/rasters",
        "/var/lib/honua/rasters"
      ]
    }
  }
}