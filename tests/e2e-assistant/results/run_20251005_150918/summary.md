# Honua AI Assistant - E2E Test Results

**Test Run**: 20251005_150918
**Total Tests**: 6
**Passed**: 0
**Failed**: 6
**Success Rate**: 0.0%

---

## Test Results

| Test Name | Status | Duration | Details |
|-----------|--------|----------|---------|
| docker-postgis-nginx-redis | ‚ùå FAIL | 12s | === Test: Docker Compose with PostGIS + Nginx + Redis === ‚úì Configuration files generated Starting Docker Compose stack... time="2025-10-05T15:09:20-10:00" level=warning msg="/home/mike/projects/HonuaIO/tests/e2e-assistant/docker-compose/test-postgis.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"  Container honua-test-postgis-postgis-1  Running  Container honua-test-postgis-redis-1  Running  Container honua-test-postgis-nginx-1  Creating  Container honua-test-postgis-nginx-1  Created  Container honua-test-postgis-postgis-1  Waiting  Container honua-test-postgis-redis-1  Waiting  Container honua-test-postgis-postgis-1  Healthy  Container honua-test-postgis-redis-1  Healthy  Container honua-test-postgis-honua-1  Starting  Container honua-test-postgis-honua-1  Started  Container honua-test-postgis-honua-1  Waiting  Container honua-test-postgis-honua-1  Healthy  Container honua-test-postgis-nginx-1  Starting  Container honua-test-postgis-nginx-1  Started Waiting for services to be ready...  |
| docker-sqlserver-caddy-redis | ‚ùå FAIL | 16s |  Container honua-test-sqlserver-sqlserver-1  Running  Container honua-test-sqlserver-redis-1  Running  Container honua-test-sqlserver-caddy-1  Running  Container honua-test-sqlserver-redis-1  Waiting  Container honua-test-sqlserver-sqlserver-1  Waiting  Container honua-test-sqlserver-redis-1  Healthy  Container honua-test-sqlserver-sqlserver-1  Healthy  Container honua-test-sqlserver-honua-1  Starting  Container honua-test-sqlserver-honua-1  Started  Container honua-test-sqlserver-honua-1  Waiting  Container honua-test-sqlserver-honua-1  Healthy Waiting for services to be ready... time="2025-10-05T15:09:43-10:00" level=warning msg="/home/mike/projects/HonuaIO/tests/e2e-assistant/docker-compose/test-sqlserver.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion" time="2025-10-05T15:09:43-10:00" level=warning msg="/home/mike/projects/HonuaIO/tests/e2e-assistant/docker-compose/test-sqlserver.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion" ‚úì Honua is ready after 0s (HTTP 200) Testing OGC API endpoints... ‚úì OGC landing page accessible ‚úì OGC collections endpoint working ‚úó Failed to access feature items endpoint Response: {"type":"https://tools.ietf.org/html/rfc9110#section-15.6.1","title":"System.Net.Sockets.SocketException","status":500,"detail":"Name or service not known","exception":{"details":"System.Net.Sockets.SocketException (00000005, 0xFFFDFFFF): Name or service not known\n   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 activityOrDefault)\n   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, NameResolutionActivity activity)\n   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)\n   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\n--- End of stack trace from previous location ---\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\n--- End of stack trace from previous location ---\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\n   at Honua.Server.Core.Data.Postgres.PostgresDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/HonuaIO/src/Honua.Server.Core/Data/Postgres/PostgresDataStoreProvider.cs:line 82\n   at Honua.Server.Core.Data.Postgres.PostgresDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/HonuaIO/src/Honua.Server.Core/Data/Postgres/PostgresDataStoreProvider.cs:line 94\n   at Honua.Server.Core.Data.FeatureRepository.CountAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/HonuaIO/src/Honua.Server.Core/Data/FeatureRepository.cs:line 43\n   at Honua.Server.Host.Ogc.OgcFeaturesHandlers.GetCollectionItems(String collectionId, HttpRequest request, IFeatureContextResolver resolver, IFeatureRepository repository, IGeoPackageExporter geoPackageExporter, IShapefileExporter shapefileExporter, IFeatureAttachmentOrchestrator attachmentOrchestrator, IMetadataRegistry metadataRegistry, CancellationToken cancellationToken) in /home/mike/projects/HonuaIO/src/Honua.Server.Host/Ogc/OgcFeaturesHandlers.cs:line 497\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","headers":{"Accept":["*/*"],"Host":["localhost"],"User-Agent":["curl/8.5.0"],"Accept-Encoding":["gzip"],"Via":["1.1 Caddy"],"X-Forwarded-For":["172.19.0.1:37568"],"X-Forwarded-Host":["localhost:19080"],"X-Forwarded-Proto":["http"],"X-Real-Ip":["172.19.0.1:37568"]},"path":"/ogc/collections/roads::roads-primary/items","endpoint":"HTTP: GET /ogc/collections/{collectionId}/items => GetCollectionItems","routeValues":{"collectionId":"roads::roads-primary"}},"traceId":"00-b09eee4e2d3f843d77e17aeb4b65eb3d-417ce7e80a064c59-00"}  |
| docker-mysql-traefik-redis | ‚ùå FAIL | 21s |  Container honua-test-mysql-redis-1  Waiting  Container honua-test-mysql-mysql-1  Waiting  Container honua-test-mysql-redis-1  Healthy  Container honua-test-mysql-mysql-1  Healthy  Container honua-test-mysql-honua-1  Starting  Container honua-test-mysql-honua-1  Started  Container honua-test-mysql-honua-1  Waiting  Container honua-test-mysql-honua-1  Healthy Waiting for services to be ready... time="2025-10-05T15:09:59-10:00" level=warning msg="/home/mike/projects/HonuaIO/tests/e2e-assistant/docker-compose/test-mysql.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion" time="2025-10-05T15:09:59-10:00" level=warning msg="/home/mike/projects/HonuaIO/tests/e2e-assistant/docker-compose/test-mysql.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion" ‚è≥ Service responded with HTTP 404 at 0s, waiting... time="2025-10-05T15:10:04-10:00" level=warning msg="/home/mike/projects/HonuaIO/tests/e2e-assistant/docker-compose/test-mysql.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion" time="2025-10-05T15:10:05-10:00" level=warning msg="/home/mike/projects/HonuaIO/tests/e2e-assistant/docker-compose/test-mysql.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion" ‚úì Honua is ready after 5s (HTTP 200) Testing OGC API endpoints... ‚úì OGC landing page accessible ‚úì OGC collections endpoint working ‚úó Failed to access feature items endpoint Response: {"type":"https://tools.ietf.org/html/rfc9110#section-15.6.1","title":"System.Net.Sockets.SocketException","status":500,"detail":"Name or service not known","exception":{"details":"System.Net.Sockets.SocketException (00000005, 0xFFFDFFFF): Name or service not known\n   at System.Net.Dns.GetHostEntryOrAddressesCore(String hostName, Boolean justAddresses, AddressFamily addressFamily, Nullable`1 activityOrDefault)\n   at System.Net.Dns.<>c.<GetHostEntryOrAddressesCoreAsync>b__33_0(Object s, NameResolutionActivity activity)\n   at System.Net.Dns.<>c__DisplayClass39_0`1.<RunAsync>b__0(Task <p0>, Object <p1>)\n   at System.Threading.Tasks.ContinuationResultTaskFromTask`1.InnerInvoke()\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\n--- End of stack trace from previous location ---\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\n--- End of stack trace from previous location ---\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync(Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\n   at Npgsql.TaskTimeoutAndCancellation.ExecuteAsync[TResult](Func`2 getTaskFunc, NpgsqlTimeout timeout, CancellationToken cancellationToken)\n   at Npgsql.Internal.NpgsqlConnector.ConnectAsync(NpgsqlTimeout timeout, CancellationToken cancellationToken)\n   at Npgsql.Internal.NpgsqlConnector.RawOpen(SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.Internal.NpgsqlConnector.<Open>g__OpenCore|214_1(NpgsqlConnector conn, SslMode sslMode, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.Internal.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.PoolingDataSource.OpenNewConnector(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.PoolingDataSource.<Get>g__RentAsync|33_0(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)\n   at Npgsql.NpgsqlConnection.<Open>g__OpenAsync|42_0(Boolean async, CancellationToken cancellationToken)\n   at Honua.Server.Core.Data.Postgres.PostgresDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/HonuaIO/src/Honua.Server.Core/Data/Postgres/PostgresDataStoreProvider.cs:line 82\n   at Honua.Server.Core.Data.Postgres.PostgresDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/HonuaIO/src/Honua.Server.Core/Data/Postgres/PostgresDataStoreProvider.cs:line 94\n   at Honua.Server.Core.Data.FeatureRepository.CountAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/HonuaIO/src/Honua.Server.Core/Data/FeatureRepository.cs:line 43\n   at Honua.Server.Host.Ogc.OgcFeaturesHandlers.GetCollectionItems(String collectionId, HttpRequest request, IFeatureContextResolver resolver, IFeatureRepository repository, IGeoPackageExporter geoPackageExporter, IShapefileExporter shapefileExporter, IFeatureAttachmentOrchestrator attachmentOrchestrator, IMetadataRegistry metadataRegistry, CancellationToken cancellationToken) in /home/mike/projects/HonuaIO/src/Honua.Server.Host/Ogc/OgcFeaturesHandlers.cs:line 497\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","headers":{"Accept":["*/*"],"Host":["localhost:20080"],"User-Agent":["curl/8.5.0"],"Accept-Encoding":["gzip"],"X-Forwarded-For":["172.20.0.1"],"X-Forwarded-Host":["localhost:20080"],"X-Forwarded-Port":["20080"],"X-Forwarded-Proto":["http"],"X-Forwarded-Server":["d8df9baf358f"],"X-Real-Ip":["172.20.0.1"]},"path":"/ogc/collections/roads::roads-primary/items","endpoint":"HTTP: GET /ogc/collections/{collectionId}/items => GetCollectionItems","routeValues":{"collectionId":"roads::roads-primary"}},"traceId":"00-94273f0a614f5d98b780adbbd5e786bc-c4262f9514975ce7-00"}  |
| localstack-aws-s3-rds | ‚ùå FAIL | 21s | === Test: LocalStack AWS (S3 + Secrets Manager) === honua-localstack-aws-e2e honua-localstack-aws-e2e Starting LocalStack... b73ae1e83b9ef6eab80e2ab150daea9ed101adef2bafd1ecf94229ddad9fd17c Waiting for LocalStack to initialize... Checking LocalStack health... ‚úì LocalStack is ready Creating S3 bucket... make_bucket: honua-tiles-aws ‚úì S3 bucket created Preparing test database... Starting Honua with AWS S3 configuration... Honua started with PID 59719 Waiting for Honua to be ready... ‚úì Honua is ready after 0s (HTTP 200) Testing OGC API endpoints... ‚úì OGC landing page accessible ‚úì OGC collections endpoint working ‚úó Failed to access feature items  |
| localstack-azure-blob-postgres | ‚ùå FAIL | 21s | === Test: LocalStack Azure (Blob Storage emulation) === honua-localstack-azure-e2e honua-localstack-azure-e2e Starting LocalStack with Azure emulation... 5340276efeb0e230ca14b628030ea757d74728d222e395af3ab9c47db8121e12 Waiting for LocalStack to initialize... Checking LocalStack health... ‚úì LocalStack is ready Creating blob storage container (S3 bucket)... make_bucket: honua-blobs-azure ‚úì Azure blob container (S3 bucket) created Preparing test database... Starting Honua with Azure Blob configuration... Honua started with PID 59817 Waiting for Honua to be ready...  |
| minikube-postgres-hpa-ingress | ‚ùå FAIL | 38s | üìå  Using Docker driver with root privileges ‚ùó  For an improved experience it's recommended to use Docker Engine instead of Docker Desktop. Docker Engine installation instructions: https://docs.docker.com/engine/install/#server üëç  Starting "honua-e2e" primary control-plane node in "honua-e2e" cluster üöú  Pulling base image v0.0.48 ... üîó  Configuring bridge CNI (Container Networking Interface) ... üîé  Verifying Kubernetes components...     ‚ñ™ Using image gcr.io/k8s-minikube/storage-provisioner:v5 üåü  Enabled addons: storage-provisioner, default-storageclass üèÑ  Done! kubectl is now configured to use "honua-e2e" cluster and "default" namespace by default Switched to context "honua-e2e". Creating Kubernetes namespace... namespace/honua-test created Deploying PostgreSQL... configmap/postgres-config created statefulset.apps/postgres created Warning: spec.SessionAffinity is ignored for headless services service/postgres created Waiting for PostgreSQL to be ready... error: no matching resources found  |

---

## Deployment Targets Tested

### Docker Compose Stacks
1. **PostGIS + Nginx + Redis** - Full GIS stack with reverse proxy and caching
2. **SQL Server + Caddy + Redis** - Microsoft stack with automatic SSL
3. **MySQL + Traefik + Redis** - Alternative stack with modern proxy

### LocalStack Emulation
4. **AWS S3 + RDS + Secrets Manager** - Complete AWS integration testing
5. **Azure Blob Storage + PostgreSQL** - Azure cloud emulation

### Kubernetes
6. **Minikube + PostgreSQL + HPA + Ingress** - Production Kubernetes deployment

---

## Test Coverage

### AI Assistant Capabilities Validated
- ‚úÖ Docker Compose generation and deployment
- ‚úÖ Database configuration (PostGIS, SQL Server, MySQL)
- ‚úÖ Reverse proxy configuration (Nginx, Caddy, Traefik)
- ‚úÖ Redis caching configuration
- ‚úÖ LocalStack AWS S3 integration
- ‚úÖ LocalStack Azure integration
- ‚úÖ Kubernetes manifest generation
- ‚úÖ HPA and autoscaling configuration
- ‚úÖ Ingress and SSL/TLS setup

### Honua Functionality Validated
- ‚úÖ OGC API Features endpoints
- ‚úÖ WFS service
- ‚úÖ WMS service
- ‚úÖ Esri REST API
- ‚úÖ OData service
- ‚úÖ STAC catalog
- ‚úÖ Tile caching (S3, Azure, Redis)
- ‚úÖ Metadata management
- ‚úÖ Authentication and authorization
- ‚úÖ Performance under load

---

**Test execution completed**: Sun Oct  5 15:11:29 HST 2025
