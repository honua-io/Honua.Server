============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.4.2, pluggy-1.6.0 -- /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
cachedir: .pytest_cache
rootdir: /home/mike/projects/Honua.Server/tests/python
configfile: pytest.ini
testpaths: .
plugins: xdist-3.8.0
created: 22/22 workers
22 workers [338 items]

scheduling tests via LoadFileScheduling

test_ogc_features_requests.py::test_landing_page_returns_json 
test_ogc_processes_requests.py::test_landing_page_includes_processes_link 
test_ogc_tiles_requests.py::test_landing_page_links_to_tilematrixsets 
test_stac_smoke.py::test_stac_root_exposes_catalog 
test_wfs_owslib.py::test_wfs_get_capabilities 
test_csw_owslib.py::test_csw_get_capabilities 
test_stac_pystac.py::test_open_stac_catalog 
test_wcs_rasterio.py::test_wcs_open_coverage_via_gdal 
test_wmts_owslib.py::test_wmts_get_capabilities 
test_wms_owslib.py::test_wms_get_capabilities 
test_smoke.py::TestOGCAPI::test_landing_page 
[gw1] [  0%] PASSED test_ogc_processes_requests.py::test_landing_page_includes_processes_link 
[gw0] [  0%] PASSED test_ogc_features_requests.py::test_landing_page_returns_json 
test_ogc_processes_requests.py::test_conformance_declares_ogc_processes_core 
test_ogc_features_requests.py::test_landing_page_includes_links 
[gw2] [  0%] PASSED test_ogc_tiles_requests.py::test_landing_page_links_to_tilematrixsets 
[gw10] [  1%] PASSED test_stac_smoke.py::test_stac_root_exposes_catalog 
test_stac_smoke.py::test_stac_collections_include_items_link 
test_ogc_tiles_requests.py::test_landing_page_links_to_collections 
[gw1] [  1%] PASSED test_ogc_processes_requests.py::test_conformance_declares_ogc_processes_core 
[gw0] [  1%] PASSED test_ogc_features_requests.py::test_landing_page_includes_links 
test_ogc_processes_requests.py::test_get_process_list_returns_json 
[gw1] [  2%] SKIPPED test_ogc_processes_requests.py::test_get_process_list_returns_json 
test_ogc_processes_requests.py::test_process_list_includes_processes_array 
[gw2] [  2%] PASSED test_ogc_tiles_requests.py::test_landing_page_links_to_collections 
test_ogc_features_requests.py::test_landing_page_has_required_link_relations 
[gw1] [  2%] SKIPPED test_ogc_processes_requests.py::test_process_list_includes_processes_array 
test_ogc_tiles_requests.py::test_tilematrixsets_endpoint_returns_valid_json 
[gw0] [  2%] PASSED test_ogc_features_requests.py::test_landing_page_has_required_link_relations 
[gw4] [  3%] PASSED test_wmts_owslib.py::test_wmts_get_capabilities 
test_wmts_owslib.py::test_wmts_version_1_0_0_supported 
[gw4] [  3%] PASSED test_wmts_owslib.py::test_wmts_version_1_0_0_supported 
test_ogc_features_requests.py::test_landing_page_includes_service_metadata 
[gw0] [  3%] PASSED test_ogc_features_requests.py::test_landing_page_includes_service_metadata 
[gw10] [  4%] PASSED test_stac_smoke.py::test_stac_collections_include_items_link 
test_stac_smoke.py::test_stac_search_returns_assets[5] 
test_ogc_features_requests.py::test_landing_page_content_negotiation 
[gw2] [  4%] PASSED test_ogc_tiles_requests.py::test_tilematrixsets_endpoint_returns_valid_json 
test_ogc_tiles_requests.py::test_tilematrixsets_includes_worldwebmercatorquad 
test_ogc_processes_requests.py::test_process_list_includes_links 
[gw1] [  4%] SKIPPED test_ogc_processes_requests.py::test_process_list_includes_links 
test_ogc_processes_requests.py::test_process_list_has_self_link 
[gw1] [  5%] SKIPPED test_ogc_processes_requests.py::test_process_list_has_self_link 
test_ogc_processes_requests.py::test_process_summaries_have_required_fields 
[gw1] [  5%] SKIPPED test_ogc_processes_requests.py::test_process_summaries_have_required_fields 
test_ogc_processes_requests.py::test_process_summaries_include_links 
[gw1] [  5%] SKIPPED test_ogc_processes_requests.py::test_process_summaries_include_links 
test_ogc_processes_requests.py::test_get_process_description_returns_json 
[gw1] [  5%] SKIPPED test_ogc_processes_requests.py::test_get_process_description_returns_json 
test_wmts_owslib.py::test_wmts_lists_layers 
test_ogc_processes_requests.py::test_process_description_has_required_fields 
[gw1] [  6%] SKIPPED test_ogc_processes_requests.py::test_process_description_has_required_fields 
[gw4] [  6%] PASSED test_wmts_owslib.py::test_wmts_lists_layers 
test_ogc_processes_requests.py::test_process_description_includes_id 
[gw0] [  6%] PASSED test_ogc_features_requests.py::test_landing_page_content_negotiation 
[gw1] [  7%] SKIPPED test_ogc_processes_requests.py::test_process_description_includes_id 
[gw2] [  7%] PASSED test_ogc_tiles_requests.py::test_tilematrixsets_includes_worldwebmercatorquad 
test_ogc_features_requests.py::test_conformance_returns_valid_json 
test_ogc_tiles_requests.py::test_tilematrixsets_includes_worldcrs84quad 
test_wmts_owslib.py::test_wmts_service_metadata 
test_ogc_processes_requests.py::test_process_description_includes_inputs 
[gw5] [  7%] PASSED test_wms_owslib.py::test_wms_get_capabilities 
[gw4] [  7%] PASSED test_wmts_owslib.py::test_wmts_service_metadata 
test_wms_owslib.py::test_wms_version_1_3_0_supported 
test_wmts_owslib.py::test_wmts_lists_tile_matrix_sets 
[gw5] [  8%] PASSED test_wms_owslib.py::test_wms_version_1_3_0_supported 
[gw1] [  8%] SKIPPED test_ogc_processes_requests.py::test_process_description_includes_inputs 
[gw4] [  8%] PASSED test_wmts_owslib.py::test_wmts_lists_tile_matrix_sets 
test_ogc_processes_requests.py::test_process_description_includes_outputs 
test_wms_owslib.py::test_wms_lists_layers 
test_wmts_owslib.py::test_wmts_common_tile_matrix_sets 
[gw1] [  9%] SKIPPED test_ogc_processes_requests.py::test_process_description_includes_outputs 
[gw5] [  9%] PASSED test_wms_owslib.py::test_wms_lists_layers 
[gw4] [  9%] PASSED test_wmts_owslib.py::test_wmts_common_tile_matrix_sets 
test_wmts_owslib.py::test_wmts_layer_has_tile_matrix_sets 
test_wms_owslib.py::test_wms_service_metadata 
[gw3] [ 10%] PASSED test_csw_owslib.py::test_csw_get_capabilities 
test_ogc_processes_requests.py::test_process_description_includes_links 
[gw5] [ 10%] PASSED test_wms_owslib.py::test_wms_service_metadata 
[gw0] [ 10%] PASSED test_ogc_features_requests.py::test_conformance_returns_valid_json 
[gw4] [ 10%] PASSED test_wmts_owslib.py::test_wmts_layer_has_tile_matrix_sets 
[gw1] [ 11%] SKIPPED test_ogc_processes_requests.py::test_process_description_includes_links 
test_ogc_processes_requests.py::test_process_description_has_execution_link 
test_csw_owslib.py::test_csw_version_2_0_2_supported 
[gw1] [ 11%] SKIPPED test_ogc_processes_requests.py::test_process_description_has_execution_link 
test_ogc_processes_requests.py::test_get_nonexistent_process_returns_404 
[gw3] [ 11%] PASSED test_csw_owslib.py::test_csw_version_2_0_2_supported 
[gw10] [ 12%] PASSED test_stac_smoke.py::test_stac_search_returns_assets[5] 
test_stac_smoke.py::test_cog_asset_can_be_downloaded 
test_wms_owslib.py::test_wms_supported_formats 
[gw5] [ 12%] PASSED test_wms_owslib.py::test_wms_supported_formats 
test_wmts_owslib.py::test_wmts_layer_has_formats 
[gw4] [ 12%] PASSED test_wmts_owslib.py::test_wmts_layer_has_formats 
test_wmts_owslib.py::test_wmts_layer_has_bounding_box 
[gw4] [ 13%] PASSED test_wmts_owslib.py::test_wmts_layer_has_bounding_box 
test_wmts_owslib.py::test_wmts_layer_has_styles 
[gw4] [ 13%] PASSED test_wmts_owslib.py::test_wmts_layer_has_styles 
test_wms_owslib.py::test_wms_layer_has_crs 
[gw5] [ 13%] PASSED test_wms_owslib.py::test_wms_layer_has_crs 
test_ogc_features_requests.py::test_conformance_includes_conformsto_array 
test_wmts_owslib.py::test_wmts_layer_resource_urls 
[gw4] [ 13%] PASSED test_wmts_owslib.py::test_wmts_layer_resource_urls 
[gw8] [ 14%] PASSED test_wfs_owslib.py::test_wfs_get_capabilities 
test_wfs_owslib.py::test_wfs_version_2_0_supported 
[gw8] [ 14%] PASSED test_wfs_owslib.py::test_wfs_version_2_0_supported 
test_wfs_owslib.py::test_wfs_lists_feature_types 
[gw1] [ 14%] PASSED test_ogc_processes_requests.py::test_get_nonexistent_process_returns_404 
test_ogc_processes_requests.py::test_nonexistent_process_error_includes_details 
test_wmts_owslib.py::test_wmts_tile_matrix_set_structure 
[gw4] [ 15%] PASSED test_wmts_owslib.py::test_wmts_tile_matrix_set_structure 
test_csw_owslib.py::test_csw_service_metadata 
[gw3] [ 15%] PASSED test_csw_owslib.py::test_csw_service_metadata 
test_csw_owslib.py::test_csw_provider_information 
[gw3] [ 15%] PASSED test_csw_owslib.py::test_csw_provider_information 
test_csw_owslib.py::test_csw_supported_operations 
[gw3] [ 15%] PASSED test_csw_owslib.py::test_csw_supported_operations 
test_csw_owslib.py::test_csw_get_operation_constraints 
[gw3] [ 16%] PASSED test_csw_owslib.py::test_csw_get_operation_constraints 
test_csw_owslib.py::test_csw_supported_query_types 
[gw3] [ 16%] PASSED test_csw_owslib.py::test_csw_supported_query_types 
test_csw_owslib.py::test_csw_supported_output_schemas 
test_wms_owslib.py::test_wms_layer_has_bounding_box 
[gw5] [ 16%] PASSED test_wms_owslib.py::test_wms_layer_has_bounding_box 
test_wms_owslib.py::test_wms_layer_has_styles 
[gw5] [ 17%] PASSED test_wms_owslib.py::test_wms_layer_has_styles 
test_wms_owslib.py::test_wms_layer_queryable_attribute 
[gw5] [ 17%] PASSED test_wms_owslib.py::test_wms_layer_queryable_attribute 
test_wms_owslib.py::test_wms_get_map_basic 
[gw2] [ 17%] PASSED test_ogc_tiles_requests.py::test_tilematrixsets_includes_worldcrs84quad 
test_ogc_tiles_requests.py::test_tilematrixsets_includes_self_link 
[gw0] [ 18%] PASSED test_ogc_features_requests.py::test_conformance_includes_conformsto_array 
[gw8] [ 18%] PASSED test_wfs_owslib.py::test_wfs_lists_feature_types 
test_wfs_owslib.py::test_wfs_feature_type_has_crs 
test_wmts_owslib.py::test_wmts_tile_matrix_levels 
[gw4] [ 18%] PASSED test_wmts_owslib.py::test_wmts_tile_matrix_levels 
test_wmts_owslib.py::test_wmts_web_mercator_if_supported 
[gw1] [ 18%] PASSED test_ogc_processes_requests.py::test_nonexistent_process_error_includes_details 
test_ogc_processes_requests.py::test_execute_process_synchronous_simple 
[gw4] [ 19%] PASSED test_wmts_owslib.py::test_wmts_web_mercator_if_supported 
test_wmts_owslib.py::test_wmts_world_crs84_if_supported 
[gw4] [ 19%] PASSED test_wmts_owslib.py::test_wmts_world_crs84_if_supported 
test_wmts_owslib.py::test_wmts_get_tile_basic 
[gw1] [ 19%] SKIPPED test_ogc_processes_requests.py::test_execute_process_synchronous_simple 
test_ogc_processes_requests.py::test_execute_process_returns_json 
[gw1] [ 20%] SKIPPED test_ogc_processes_requests.py::test_execute_process_returns_json 
[gw2] [ 20%] PASSED test_ogc_tiles_requests.py::test_tilematrixsets_includes_self_link 
test_ogc_tiles_requests.py::test_tilematrixsets_items_have_required_fields 
test_ogc_features_requests.py::test_conformance_declares_ogc_api_features_core 
[gw10] [ 20%] SKIPPED test_stac_smoke.py::test_cog_asset_can_be_downloaded 
test_ogc_processes_requests.py::test_execute_process_with_missing_inputs_returns_400 
[gw0] [ 21%] PASSED test_ogc_features_requests.py::test_conformance_declares_ogc_api_features_core 
[gw1] [ 21%] SKIPPED test_ogc_processes_requests.py::test_execute_process_with_missing_inputs_returns_400 
test_ogc_processes_requests.py::test_execute_nonexistent_process_returns_404 
test_ogc_features_requests.py::test_conformance_declares_geojson 
[gw2] [ 21%] PASSED test_ogc_tiles_requests.py::test_tilematrixsets_items_have_required_fields 
[gw0] [ 21%] PASSED test_ogc_features_requests.py::test_conformance_declares_geojson 
test_ogc_tiles_requests.py::test_worldwebmercatorquad_tilematrixset_metadata 
test_ogc_features_requests.py::test_collections_returns_valid_json 
[gw8] [ 22%] FAILED test_wfs_owslib.py::test_wfs_feature_type_has_crs 
test_wfs_owslib.py::test_wfs_feature_type_has_bounding_box 
[gw2] [ 22%] PASSED test_ogc_tiles_requests.py::test_worldwebmercatorquad_tilematrixset_metadata 
[gw0] [ 22%] PASSED test_ogc_features_requests.py::test_collections_returns_valid_json 
test_ogc_tiles_requests.py::test_worldwebmercatorquad_uses_epsg3857 
test_ogc_features_requests.py::test_collections_includes_collections_array 
[gw2] [ 23%] PASSED test_ogc_tiles_requests.py::test_worldwebmercatorquad_uses_epsg3857 
test_ogc_tiles_requests.py::test_worldwebmercatorquad_tilematrix_has_valid_structure 
[gw8] [ 23%] FAILED test_wfs_owslib.py::test_wfs_feature_type_has_bounding_box 
test_wfs_owslib.py::test_wfs_describe_feature_type 
[gw2] [ 23%] PASSED test_ogc_tiles_requests.py::test_worldwebmercatorquad_tilematrix_has_valid_structure 
test_ogc_tiles_requests.py::test_worldwebmercatorquad_standard_tile_sizes 
[gw0] [ 23%] PASSED test_ogc_features_requests.py::test_collections_includes_collections_array 
test_ogc_features_requests.py::test_collections_includes_links 
[gw1] [ 24%] FAILED test_ogc_processes_requests.py::test_execute_nonexistent_process_returns_404 
[gw0] [ 24%] PASSED test_ogc_features_requests.py::test_collections_includes_links 
test_ogc_processes_requests.py::test_execute_with_malformed_json_returns_400 
test_ogc_features_requests.py::test_collection_metadata_structure 
[gw3] [ 24%] FAILED test_csw_owslib.py::test_csw_supported_output_schemas 
[gw8] [ 25%] SKIPPED test_wfs_owslib.py::test_wfs_describe_feature_type 
test_csw_owslib.py::test_csw_describe_record 
[gw2] [ 25%] PASSED test_ogc_tiles_requests.py::test_worldwebmercatorquad_standard_tile_sizes 
test_wfs_owslib.py::test_wfs_get_feature_basic 
[gw1] [ 25%] SKIPPED test_ogc_processes_requests.py::test_execute_with_malformed_json_returns_400 
test_ogc_processes_requests.py::test_execute_process_asynchronous 
test_ogc_tiles_requests.py::test_worldcrs84quad_tilematrixset_metadata 
[gw1] [ 26%] SKIPPED test_ogc_processes_requests.py::test_execute_process_asynchronous 
[gw4] [ 26%] PASSED test_wmts_owslib.py::test_wmts_get_tile_basic 
test_ogc_processes_requests.py::test_async_execution_returns_job_status 
[gw1] [ 26%] SKIPPED test_ogc_processes_requests.py::test_async_execution_returns_job_status 
[gw0] [ 26%] PASSED test_ogc_features_requests.py::test_collection_metadata_structure 
test_ogc_processes_requests.py::test_async_execution_creates_unique_job_id 
[gw5] [ 27%] PASSED test_wms_owslib.py::test_wms_get_map_basic 
test_ogc_features_requests.py::test_collection_has_extent 
[gw1] [ 27%] SKIPPED test_ogc_processes_requests.py::test_async_execution_creates_unique_job_id 
test_wmts_owslib.py::test_wmts_get_tile_different_formats 
[gw0] [ 27%] PASSED test_ogc_features_requests.py::test_collection_has_extent 
test_ogc_features_requests.py::test_get_single_collection_returns_json 
test_wms_owslib.py::test_wms_get_map_different_sizes 
[gw2] [ 28%] PASSED test_ogc_tiles_requests.py::test_worldcrs84quad_tilematrixset_metadata 
[gw0] [ 28%] PASSED test_ogc_features_requests.py::test_get_single_collection_returns_json 
test_ogc_tiles_requests.py::test_worldcrs84quad_uses_crs84 
test_ogc_features_requests.py::test_single_collection_has_required_fields 
[gw3] [ 28%] SKIPPED test_csw_owslib.py::test_csw_describe_record 
[gw4] [ 28%] PASSED test_wmts_owslib.py::test_wmts_get_tile_different_formats 
test_wmts_owslib.py::test_wmts_get_tile_different_zoom_levels 
test_csw_owslib.py::test_csw_describe_record_for_dublin_core 
test_ogc_processes_requests.py::test_get_job_status_returns_json 
[gw1] [ 29%] SKIPPED test_ogc_processes_requests.py::test_get_job_status_returns_json 
test_ogc_processes_requests.py::test_job_status_includes_process_id 
[gw1] [ 29%] SKIPPED test_ogc_processes_requests.py::test_job_status_includes_process_id 
test_ogc_processes_requests.py::test_job_status_includes_timestamps 
[gw1] [ 29%] SKIPPED test_ogc_processes_requests.py::test_job_status_includes_timestamps 
test_ogc_processes_requests.py::test_job_status_includes_links 
[gw1] [ 30%] SKIPPED test_ogc_processes_requests.py::test_job_status_includes_links 
test_ogc_processes_requests.py::test_get_nonexistent_job_returns_404 
[gw0] [ 30%] PASSED test_ogc_features_requests.py::test_single_collection_has_required_fields 
test_ogc_features_requests.py::test_single_collection_has_items_link 
[gw0] [ 30%] PASSED test_ogc_features_requests.py::test_single_collection_has_items_link 
[gw2] [ 31%] PASSED test_ogc_tiles_requests.py::test_worldcrs84quad_uses_crs84 
test_ogc_features_requests.py::test_get_nonexistent_collection_returns_404 
test_ogc_tiles_requests.py::test_collection_tilesets_endpoint_returns_valid_json 
[gw1] [ 31%] PASSED test_ogc_processes_requests.py::test_get_nonexistent_job_returns_404 
test_ogc_processes_requests.py::test_get_job_results_for_incomplete_job 
[gw1] [ 31%] SKIPPED test_ogc_processes_requests.py::test_get_job_results_for_incomplete_job 
test_ogc_processes_requests.py::test_get_job_results_returns_json 
[gw1] [ 31%] SKIPPED test_ogc_processes_requests.py::test_get_job_results_returns_json 
test_ogc_processes_requests.py::test_get_results_for_nonexistent_job_returns_404 
[gw0] [ 32%] PASSED test_ogc_features_requests.py::test_get_nonexistent_collection_returns_404 
test_ogc_features_requests.py::test_get_collection_items_returns_geojson 
[gw1] [ 32%] PASSED test_ogc_processes_requests.py::test_get_results_for_nonexistent_job_returns_404 
test_ogc_processes_requests.py::test_dismiss_job 
[gw1] [ 32%] SKIPPED test_ogc_processes_requests.py::test_dismiss_job 
test_ogc_processes_requests.py::test_dismiss_nonexistent_job_returns_404 
[gw5] [ 33%] PASSED test_wms_owslib.py::test_wms_get_map_different_sizes 
test_wms_owslib.py::test_wms_get_map_different_formats 
[gw4] [ 33%] PASSED test_wmts_owslib.py::test_wmts_get_tile_different_zoom_levels 
[gw3] [ 33%] SKIPPED test_csw_owslib.py::test_csw_describe_record_for_dublin_core 
test_csw_owslib.py::test_csw_get_records_basic 
[gw2] [ 34%] PASSED test_ogc_tiles_requests.py::test_collection_tilesets_endpoint_returns_valid_json 
test_ogc_tiles_requests.py::test_collection_tileset_metadata_includes_links 
test_wmts_owslib.py::test_wmts_get_tile_different_positions 
[gw2] [ 34%] PASSED test_ogc_tiles_requests.py::test_collection_tileset_metadata_includes_links 
test_ogc_tiles_requests.py::test_tileset_metadata_includes_zoom_levels 
[gw2] [ 34%] PASSED test_ogc_tiles_requests.py::test_tileset_metadata_includes_zoom_levels 
test_ogc_tiles_requests.py::test_raster_tile_png_format_basic 
[gw5] [ 34%] PASSED test_wms_owslib.py::test_wms_get_map_different_formats 
test_wms_owslib.py::test_wms_get_map_with_crs_epsg_3857 
[gw6] [ 35%] PASSED test_stac_pystac.py::test_open_stac_catalog 
test_stac_pystac.py::test_stac_catalog_has_conformance 
[gw5] [ 35%] SKIPPED test_wms_owslib.py::test_wms_get_map_with_crs_epsg_3857 
test_wms_owslib.py::test_wms_get_map_multiple_layers 
[gw1] [ 35%] FAILED test_ogc_processes_requests.py::test_dismiss_nonexistent_job_returns_404 
test_ogc_processes_requests.py::test_dismiss_completed_job_returns_410 
[gw1] [ 36%] SKIPPED test_ogc_processes_requests.py::test_dismiss_completed_job_returns_410 
test_ogc_processes_requests.py::test_get_job_list_returns_json 
[gw1] [ 36%] SKIPPED test_ogc_processes_requests.py::test_get_job_list_returns_json 
test_ogc_processes_requests.py::test_job_list_includes_jobs_array 
[gw1] [ 36%] SKIPPED test_ogc_processes_requests.py::test_job_list_includes_jobs_array 
[gw4] [ 36%] PASSED test_wmts_owslib.py::test_wmts_get_tile_different_positions 
test_ogc_processes_requests.py::test_job_list_includes_links 
test_wmts_owslib.py::test_wmts_get_tile_png_format 
[gw1] [ 37%] SKIPPED test_ogc_processes_requests.py::test_job_list_includes_links 
test_ogc_processes_requests.py::test_job_list_with_limit_parameter 
[gw5] [ 37%] PASSED test_wms_owslib.py::test_wms_get_map_multiple_layers 
test_wms_owslib.py::test_wms_get_map_with_transparency 
[gw1] [ 37%] SKIPPED test_ogc_processes_requests.py::test_job_list_with_limit_parameter 
test_ogc_processes_requests.py::test_job_list_with_pagination 
[gw1] [ 38%] SKIPPED test_ogc_processes_requests.py::test_job_list_with_pagination 
test_ogc_processes_requests.py::test_process_execution_accepts_json_inputs 
[gw4] [ 38%] PASSED test_wmts_owslib.py::test_wmts_get_tile_png_format 
test_wmts_owslib.py::test_wmts_get_tile_jpeg_format 
[gw4] [ 38%] SKIPPED test_wmts_owslib.py::test_wmts_get_tile_jpeg_format 
test_wmts_owslib.py::test_wmts_get_tile_with_different_styles 
[gw4] [ 39%] SKIPPED test_wmts_owslib.py::test_wmts_get_tile_with_different_styles 
test_wmts_owslib.py::test_wmts_tile_addressing 
[gw1] [ 39%] SKIPPED test_ogc_processes_requests.py::test_process_execution_accepts_json_inputs 
test_ogc_processes_requests.py::test_process_execution_with_geojson_input 
[gw5] [ 39%] PASSED test_wms_owslib.py::test_wms_get_map_with_transparency 
test_wms_owslib.py::test_wms_get_feature_info_supported 
[gw1] [ 39%] SKIPPED test_ogc_processes_requests.py::test_process_execution_with_geojson_input 
test_ogc_processes_requests.py::test_process_execution_with_output_format_specification 
[gw1] [ 40%] SKIPPED test_ogc_processes_requests.py::test_process_execution_with_output_format_specification 
test_ogc_processes_requests.py::test_execute_with_invalid_input_types_returns_400 
[gw1] [ 40%] SKIPPED test_ogc_processes_requests.py::test_execute_with_invalid_input_types_returns_400 
[gw5] [ 40%] PASSED test_wms_owslib.py::test_wms_get_feature_info_supported 
test_wms_owslib.py::test_wms_get_feature_info_basic 
test_ogc_processes_requests.py::test_execute_without_content_type_returns_400 
[gw1] [ 41%] SKIPPED test_ogc_processes_requests.py::test_execute_without_content_type_returns_400 
test_ogc_processes_requests.py::test_job_status_for_failed_job_includes_error 
[gw1] [ 41%] SKIPPED test_ogc_processes_requests.py::test_job_status_for_failed_job_includes_error 
test_ogc_processes_requests.py::test_process_list_json_via_accept_header 
[gw1] [ 41%] SKIPPED test_ogc_processes_requests.py::test_process_list_json_via_accept_header 
test_ogc_processes_requests.py::test_process_description_json_via_accept_header 
[gw1] [ 42%] SKIPPED test_ogc_processes_requests.py::test_process_description_json_via_accept_header 
test_ogc_processes_requests.py::test_unsupported_accept_header_returns_406 
[gw1] [ 42%] SKIPPED test_ogc_processes_requests.py::test_unsupported_accept_header_returns_406 
test_ogc_processes_requests.py::test_prefer_header_respond_async 
[gw1] [ 42%] SKIPPED test_ogc_processes_requests.py::test_prefer_header_respond_async 
test_ogc_processes_requests.py::test_prefer_header_return_representation 
[gw1] [ 42%] SKIPPED test_ogc_processes_requests.py::test_prefer_header_return_representation 
[gw2] [ 43%] PASSED test_ogc_tiles_requests.py::test_raster_tile_png_format_basic 
test_ogc_processes_requests.py::test_job_status_includes_progress 
[gw1] [ 43%] SKIPPED test_ogc_processes_requests.py::test_job_status_includes_progress 
test_ogc_tiles_requests.py::test_raster_tile_png_has_correct_dimensions 
[gw4] [ 43%] PASSED test_wmts_owslib.py::test_wmts_tile_addressing 
[gw2] [ 44%] PASSED test_ogc_tiles_requests.py::test_raster_tile_png_has_correct_dimensions 
test_wmts_owslib.py::test_wmts_tile_dimensions 
test_ogc_tiles_requests.py::test_raster_tile_png_different_zoom_levels 
[gw3] [ 44%] FAILED test_csw_owslib.py::test_csw_get_records_basic 
test_csw_owslib.py::test_csw_get_records_count 
[gw4] [ 44%] PASSED test_wmts_owslib.py::test_wmts_tile_dimensions 
test_wmts_owslib.py::test_wmts_invalid_layer_raises_error 
[gw4] [ 44%] PASSED test_wmts_owslib.py::test_wmts_invalid_layer_raises_error 
test_wmts_owslib.py::test_wmts_invalid_tile_matrix_set_raises_error 
[gw4] [ 45%] PASSED test_wmts_owslib.py::test_wmts_invalid_tile_matrix_set_raises_error 
test_wmts_owslib.py::test_wmts_out_of_bounds_tile_raises_error 
[gw6] [ 45%] FAILED test_stac_pystac.py::test_stac_catalog_has_conformance 
test_stac_pystac.py::test_stac_catalog_lists_collections 
[gw4] [ 45%] PASSED test_wmts_owslib.py::test_wmts_out_of_bounds_tile_raises_error 
test_wmts_owslib.py::test_wmts_invalid_format_raises_error 
[gw2] [ 46%] PASSED test_ogc_tiles_requests.py::test_raster_tile_png_different_zoom_levels 
test_ogc_tiles_requests.py::test_raster_tile_png_different_coordinates 
[gw4] [ 46%] PASSED test_wmts_owslib.py::test_wmts_invalid_format_raises_error 
test_wmts_owslib.py::test_wmts_invalid_style_raises_error 
[gw4] [ 46%] PASSED test_wmts_owslib.py::test_wmts_invalid_style_raises_error 
[gw6] [ 47%] FAILED test_stac_pystac.py::test_stac_catalog_lists_collections 
test_stac_pystac.py::test_search_with_bbox 
test_wmts_owslib.py::test_wmts_time_dimension_if_supported 
[gw4] [ 47%] PASSED test_wmts_owslib.py::test_wmts_time_dimension_if_supported 
test_wmts_owslib.py::test_wmts_elevation_dimension_if_supported 
[gw4] [ 47%] PASSED test_wmts_owslib.py::test_wmts_elevation_dimension_if_supported 
test_wmts_owslib.py::test_wmts_kvp_encoding_supported 
[gw4] [ 47%] PASSED test_wmts_owslib.py::test_wmts_kvp_encoding_supported 
test_wmts_owslib.py::test_wmts_restful_encoding_if_supported 
[gw4] [ 48%] PASSED test_wmts_owslib.py::test_wmts_restful_encoding_if_supported 
[gw3] [ 48%] FAILED test_csw_owslib.py::test_csw_get_records_count 
test_csw_owslib.py::test_csw_get_records_with_start_position 
test_wmts_owslib.py::test_wmts_service_type_version 
[gw4] [ 48%] PASSED test_wmts_owslib.py::test_wmts_service_type_version 
test_wmts_owslib.py::test_wmts_mandatory_operations 
[gw4] [ 49%] PASSED test_wmts_owslib.py::test_wmts_mandatory_operations 
test_wmts_owslib.py::test_wmts_layer_has_mandatory_metadata 
[gw4] [ 49%] PASSED test_wmts_owslib.py::test_wmts_layer_has_mandatory_metadata 
test_wmts_owslib.py::test_wmts_exception_format 
[gw4] [ 49%] PASSED test_wmts_owslib.py::test_wmts_exception_format 
[gw3] [ 50%] SKIPPED test_csw_owslib.py::test_csw_get_records_with_start_position 
test_csw_owslib.py::test_csw_get_records_result_type_hits 
[gw2] [ 50%] PASSED test_ogc_tiles_requests.py::test_raster_tile_png_different_coordinates 
test_ogc_tiles_requests.py::test_raster_tile_jpeg_format 
[gw7] [ 50%] FAILED test_wcs_rasterio.py::test_wcs_open_coverage_via_gdal 
test_wcs_rasterio.py::test_wcs_open_coverage_via_xml_descriptor 
[gw3] [ 50%] SKIPPED test_csw_owslib.py::test_csw_get_records_result_type_hits 
test_csw_owslib.py::test_csw_get_records_validates_total_count 
[gw2] [ 51%] PASSED test_ogc_tiles_requests.py::test_raster_tile_jpeg_format 
test_ogc_tiles_requests.py::test_raster_tile_jpeg_has_correct_dimensions 
[gw6] [ 51%] FAILED test_stac_pystac.py::test_search_with_bbox 
[gw2] [ 51%] PASSED test_ogc_tiles_requests.py::test_raster_tile_jpeg_has_correct_dimensions 
test_ogc_tiles_requests.py::test_vector_tile_mvt_format 
[gw2] [ 52%] PASSED test_ogc_tiles_requests.py::test_vector_tile_mvt_format 
test_ogc_tiles_requests.py::test_vector_tile_mvt_different_zoom_levels 
[gw7] [ 52%] FAILED test_wcs_rasterio.py::test_wcs_open_coverage_via_xml_descriptor 
test_wcs_rasterio.py::test_wcs_read_coverage_metadata 
[gw2] [ 52%] PASSED test_ogc_tiles_requests.py::test_vector_tile_mvt_different_zoom_levels 
test_ogc_tiles_requests.py::test_tile_bounds_metadata_available 
[gw2] [ 52%] PASSED test_ogc_tiles_requests.py::test_tile_bounds_metadata_available 
test_ogc_tiles_requests.py::test_tile_links_include_templated_url 
[gw2] [ 53%] PASSED test_ogc_tiles_requests.py::test_tile_links_include_templated_url 
[gw3] [ 53%] FAILED test_csw_owslib.py::test_csw_get_records_validates_total_count 
test_csw_owslib.py::test_csw_get_records_with_text_search 
test_ogc_tiles_requests.py::test_tile_includes_cache_headers 
[gw2] [ 53%] PASSED test_ogc_tiles_requests.py::test_tile_includes_cache_headers 
test_ogc_tiles_requests.py::test_tile_etag_validation 
[gw3] [ 54%] SKIPPED test_csw_owslib.py::test_csw_get_records_with_text_search 
test_csw_owslib.py::test_csw_get_records_with_bbox_filter 
[gw7] [ 54%] FAILED test_wcs_rasterio.py::test_wcs_read_coverage_metadata 
test_wcs_rasterio.py::test_wcs_read_coverage_crs 
[gw2] [ 54%] PASSED test_ogc_tiles_requests.py::test_tile_etag_validation 
test_ogc_tiles_requests.py::test_tile_cache_control_header 
[gw2] [ 55%] PASSED test_ogc_tiles_requests.py::test_tile_cache_control_header 
test_ogc_tiles_requests.py::test_invalid_tilematrixset_returns_404 
[gw3] [ 55%] SKIPPED test_csw_owslib.py::test_csw_get_records_with_bbox_filter 
test_csw_owslib.py::test_csw_get_records_with_property_filter 
[gw2] [ 55%] PASSED test_ogc_tiles_requests.py::test_invalid_tilematrixset_returns_404 
test_ogc_tiles_requests.py::test_invalid_collection_id_returns_404 
[gw7] [ 55%] FAILED test_wcs_rasterio.py::test_wcs_read_coverage_crs 
test_wcs_rasterio.py::test_wcs_read_coverage_transform 
[gw2] [ 56%] PASSED test_ogc_tiles_requests.py::test_invalid_collection_id_returns_404 
test_ogc_tiles_requests.py::test_out_of_bounds_tile_coordinates_returns_404 
[gw3] [ 56%] SKIPPED test_csw_owslib.py::test_csw_get_records_with_property_filter 
test_csw_owslib.py::test_csw_get_records_with_combined_filters 
[gw2] [ 56%] PASSED test_ogc_tiles_requests.py::test_out_of_bounds_tile_coordinates_returns_404 
test_ogc_tiles_requests.py::test_invalid_zoom_level_returns_error 
[gw2] [ 57%] PASSED test_ogc_tiles_requests.py::test_invalid_zoom_level_returns_error 
test_ogc_tiles_requests.py::test_negative_tile_coordinates_returns_error 
[gw3] [ 57%] SKIPPED test_csw_owslib.py::test_csw_get_records_with_combined_filters 
test_csw_owslib.py::test_csw_get_records_dublin_core_schema 
[gw7] [ 57%] FAILED test_wcs_rasterio.py::test_wcs_read_coverage_transform 
[gw2] [ 57%] PASSED test_ogc_tiles_requests.py::test_negative_tile_coordinates_returns_error 
test_ogc_tiles_requests.py::test_invalid_tile_matrix_parameter_returns_400 
test_wcs_rasterio.py::test_wcs_read_coverage_bounds 
[gw2] [ 58%] PASSED test_ogc_tiles_requests.py::test_invalid_tile_matrix_parameter_returns_400 
test_ogc_tiles_requests.py::test_unsupported_format_returns_error 
[gw7] [ 58%] FAILED test_wcs_rasterio.py::test_wcs_read_coverage_bounds 
test_wcs_rasterio.py::test_wcs_read_coverage_resolution 
[gw2] [ 58%] FAILED test_ogc_tiles_requests.py::test_unsupported_format_returns_error 
test_ogc_tiles_requests.py::test_malformed_tile_url_returns_error 
[gw2] [ 59%] PASSED test_ogc_tiles_requests.py::test_malformed_tile_url_returns_error 
test_ogc_tiles_requests.py::test_png_tile_is_valid_image_file 
[gw7] [ 59%] FAILED test_wcs_rasterio.py::test_wcs_read_coverage_resolution 
[gw3] [ 59%] FAILED test_csw_owslib.py::test_csw_get_records_dublin_core_schema 
test_csw_owslib.py::test_csw_get_records_iso_19139_schema 
test_wcs_rasterio.py::test_wcs_read_coverage_data_full 
[gw2] [ 60%] PASSED test_ogc_tiles_requests.py::test_png_tile_is_valid_image_file 
test_ogc_tiles_requests.py::test_png_tile_has_valid_color_depth 
[gw2] [ 60%] PASSED test_ogc_tiles_requests.py::test_png_tile_has_valid_color_depth 
test_ogc_tiles_requests.py::test_jpeg_tile_is_valid_image_file 
[gw3] [ 60%] SKIPPED test_csw_owslib.py::test_csw_get_records_iso_19139_schema 
test_csw_owslib.py::test_csw_get_records_validates_schema_format 
[gw2] [ 60%] PASSED test_ogc_tiles_requests.py::test_jpeg_tile_is_valid_image_file 
test_ogc_tiles_requests.py::test_tiles_at_different_zooms_have_consistent_dimensions 
test_stac_pystac.py::test_search_with_specific_bbox 
[gw6] [ 61%] FAILED test_stac_pystac.py::test_search_with_specific_bbox 
test_stac_pystac.py::test_search_with_intersects_geometry 
[gw3] [ 61%] SKIPPED test_csw_owslib.py::test_csw_get_records_validates_schema_format 
test_csw_owslib.py::test_csw_get_record_by_id_basic 
[gw6] [ 61%] FAILED test_stac_pystac.py::test_search_with_intersects_geometry 
test_stac_pystac.py::test_search_with_intersects_geojson 
[gw7] [ 62%] FAILED test_wcs_rasterio.py::test_wcs_read_coverage_data_full 
test_wcs_rasterio.py::test_wcs_read_coverage_data_windowed 
[gw2] [ 62%] PASSED test_ogc_tiles_requests.py::test_tiles_at_different_zooms_have_consistent_dimensions 
[gw3] [ 62%] SKIPPED test_csw_owslib.py::test_csw_get_record_by_id_basic 
test_csw_owslib.py::test_csw_get_record_by_id_multiple 
[gw6] [ 63%] FAILED test_stac_pystac.py::test_search_with_intersects_geojson 
test_stac_pystac.py::test_search_with_datetime_single 
[gw7] [ 63%] FAILED test_wcs_rasterio.py::test_wcs_read_coverage_data_windowed 
test_wcs_rasterio.py::test_wcs_read_coverage_data_downsampled 
[gw3] [ 63%] SKIPPED test_csw_owslib.py::test_csw_get_record_by_id_multiple 
test_csw_owslib.py::test_csw_get_record_by_id_validates_content 
[gw3] [ 63%] SKIPPED test_csw_owslib.py::test_csw_get_record_by_id_validates_content 
test_csw_owslib.py::test_csw_get_record_by_id_iso_schema 
[gw3] [ 64%] SKIPPED test_csw_owslib.py::test_csw_get_record_by_id_iso_schema 
test_csw_owslib.py::test_csw_get_domain 
[gw3] [ 64%] PASSED test_csw_owslib.py::test_csw_get_domain 
test_csw_owslib.py::test_csw_record_has_identifier 
[gw7] [ 64%] FAILED test_wcs_rasterio.py::test_wcs_read_coverage_data_downsampled 
test_wcs_rasterio.py::test_wcs_read_coverage_data_with_resampling 
[gw6] [ 65%] FAILED test_stac_pystac.py::test_search_with_datetime_single 
test_stac_pystac.py::test_search_with_datetime_range 
[gw7] [ 65%] FAILED test_wcs_rasterio.py::test_wcs_read_coverage_data_with_resampling 
test_wcs_rasterio.py::test_wcs_read_band_metadata 
[gw3] [ 65%] FAILED test_csw_owslib.py::test_csw_record_has_identifier 
test_csw_owslib.py::test_csw_record_has_title 
[gw6] [ 65%] FAILED test_stac_pystac.py::test_search_with_datetime_range 
test_stac_pystac.py::test_search_with_open_ended_datetime 
[gw7] [ 66%] FAILED test_wcs_rasterio.py::test_wcs_read_band_metadata 
test_wcs_rasterio.py::test_wcs_read_multiband_coverage 
[gw7] [ 66%] FAILED test_wcs_rasterio.py::test_wcs_read_multiband_coverage 
test_wcs_rasterio.py::test_wcs_coverage_data_type_preserved 
[gw6] [ 66%] FAILED test_stac_pystac.py::test_search_with_open_ended_datetime 
test_stac_pystac.py::test_search_with_datetime_validates_items 
[gw3] [ 67%] FAILED test_csw_owslib.py::test_csw_record_has_title 
test_csw_owslib.py::test_csw_record_has_type 
[gw7] [ 67%] FAILED test_wcs_rasterio.py::test_wcs_coverage_data_type_preserved 
test_wcs_rasterio.py::test_wcs_coverage_crs_transformation 
[gw3] [ 67%] FAILED test_csw_owslib.py::test_csw_record_has_type 
test_csw_owslib.py::test_csw_record_has_bounding_box 
[gw6] [ 68%] FAILED test_stac_pystac.py::test_search_with_datetime_validates_items 
test_stac_pystac.py::test_search_with_query_parameter 
[gw7] [ 68%] FAILED test_wcs_rasterio.py::test_wcs_coverage_crs_transformation 
test_wcs_rasterio.py::test_wcs_invalid_coverage_raises_error 
[gw3] [ 68%] SKIPPED test_csw_owslib.py::test_csw_record_has_bounding_box 
test_csw_owslib.py::test_csw_invalid_record_id_raises_error 
[gw7] [ 68%] PASSED test_wcs_rasterio.py::test_wcs_invalid_coverage_raises_error 
test_wcs_rasterio.py::test_wcs_malformed_url_raises_error 
[gw3] [ 69%] PASSED test_csw_owslib.py::test_csw_invalid_record_id_raises_error 
test_csw_owslib.py::test_csw_missing_service_parameter_raises_error 
[gw6] [ 69%] ERROR test_stac_pystac.py::test_search_with_query_parameter 
[gw7] [ 69%] FAILED test_wcs_rasterio.py::test_wcs_malformed_url_raises_error 
test_stac_pystac.py::test_search_with_collections_filter 
test_wcs_rasterio.py::test_wcs_gdal_config_options 
[gw3] [ 70%] PASSED test_csw_owslib.py::test_csw_missing_service_parameter_raises_error 
test_csw_owslib.py::test_csw_invalid_request_raises_error 
[gw3] [ 70%] PASSED test_csw_owslib.py::test_csw_invalid_request_raises_error 
test_csw_owslib.py::test_csw_invalid_filter_raises_error 
[gw6] [ 70%] ERROR test_stac_pystac.py::test_search_with_collections_filter 
test_stac_pystac.py::test_search_with_multiple_collections 
[gw7] [ 71%] FAILED test_wcs_rasterio.py::test_wcs_gdal_config_options 
test_wcs_rasterio.py::test_wcs_with_authentication 
[gw7] [ 71%] SKIPPED test_wcs_rasterio.py::test_wcs_with_authentication 
test_wcs_rasterio.py::test_wcs_large_coverage_streaming 
[gw6] [ 71%] FAILED test_stac_pystac.py::test_search_with_multiple_collections 
test_stac_pystac.py::test_search_within_collection_items 
[gw3] [ 71%] FAILED test_csw_owslib.py::test_csw_invalid_filter_raises_error 
test_csw_owslib.py::test_csw_invalid_output_schema_handling 
[gw7] [ 72%] FAILED test_wcs_rasterio.py::test_wcs_large_coverage_streaming 
test_wcs_rasterio.py::test_ogc_api_coverages_compatibility 
[gw7] [ 72%] SKIPPED test_wcs_rasterio.py::test_ogc_api_coverages_compatibility 
[gw6] [ 72%] ERROR test_stac_pystac.py::test_search_within_collection_items 
test_stac_pystac.py::test_iterate_through_paged_results 
[gw3] [ 73%] FAILED test_csw_owslib.py::test_csw_invalid_output_schema_handling 
test_csw_owslib.py::test_csw_transaction_not_supported 
[gw3] [ 73%] PASSED test_csw_owslib.py::test_csw_transaction_not_supported 
test_csw_owslib.py::test_csw_response_time_reasonable 
[gw6] [ 73%] FAILED test_stac_pystac.py::test_iterate_through_paged_results 
test_stac_pystac.py::test_item_collection_returns_all_pages 
[gw3] [ 73%] SKIPPED test_csw_owslib.py::test_csw_response_time_reasonable 
test_csw_owslib.py::test_csw_xml_response_well_formed 
[gw3] [ 74%] SKIPPED test_csw_owslib.py::test_csw_xml_response_well_formed 
test_csw_owslib.py::test_csw_unicode_support 
[gw3] [ 74%] SKIPPED test_csw_owslib.py::test_csw_unicode_support 
[gw6] [ 74%] FAILED test_stac_pystac.py::test_item_collection_returns_all_pages 
test_stac_pystac.py::test_pagination_with_limit 
[gw6] [ 75%] FAILED test_stac_pystac.py::test_pagination_with_limit 
test_stac_pystac.py::test_download_item_asset_metadata 
[gw6] [ 75%] FAILED test_stac_pystac.py::test_download_item_asset_metadata 
test_stac_pystac.py::test_download_asset_with_requests 
[gw6] [ 75%] FAILED test_stac_pystac.py::test_download_asset_with_requests 
test_stac_pystac.py::test_cog_asset_is_geotiff 
[gw6] [ 76%] FAILED test_stac_pystac.py::test_cog_asset_is_geotiff 
test_stac_pystac.py::test_validate_stac_item_schema 
[gw6] [ 76%] FAILED test_stac_pystac.py::test_validate_stac_item_schema 
test_stac_pystac.py::test_validate_item_has_required_fields 
[gw6] [ 76%] FAILED test_stac_pystac.py::test_validate_item_has_required_fields 
test_stac_pystac.py::test_validate_item_geometry_is_geojson 
[gw6] [ 76%] FAILED test_stac_pystac.py::test_validate_item_geometry_is_geojson 
test_stac_pystac.py::test_invalid_catalog_url_raises_error 
[gw6] [ 77%] PASSED test_stac_pystac.py::test_invalid_catalog_url_raises_error 
test_stac_pystac.py::test_invalid_collection_raises_error 
[gw6] [ 77%] PASSED test_stac_pystac.py::test_invalid_collection_raises_error 
test_stac_pystac.py::test_search_with_invalid_bbox_raises_error 
[gw6] [ 77%] PASSED test_stac_pystac.py::test_search_with_invalid_bbox_raises_error 
test_stac_pystac.py::test_search_with_invalid_datetime_raises_error 
[gw6] [ 78%] PASSED test_stac_pystac.py::test_search_with_invalid_datetime_raises_error 
test_stac_pystac.py::test_search_with_multiple_filters 
[gw6] [ 78%] ERROR test_stac_pystac.py::test_search_with_multiple_filters 
test_stac_pystac.py::test_search_with_spatial_and_temporal_filters 
[gw6] [ 78%] FAILED test_stac_pystac.py::test_search_with_spatial_and_temporal_filters 
test_stac_pystac.py::test_search_matches_returned_count 
[gw6] [ 78%] FAILED test_stac_pystac.py::test_search_matches_returned_count 
test_stac_pystac.py::test_item_has_links 
[gw6] [ 79%] FAILED test_stac_pystac.py::test_item_has_links 
test_stac_pystac.py::test_collection_has_extent 
[gw6] [ 79%] ERROR test_stac_pystac.py::test_collection_has_extent 
test_stac_pystac.py::test_collection_has_license 
[gw6] [ 79%] ERROR test_stac_pystac.py::test_collection_has_license 
[gw9] [ 80%] PASSED test_smoke.py::TestOGCAPI::test_landing_page 
test_smoke.py::TestOGCAPI::test_conformance 
[gw9] [ 80%] PASSED test_smoke.py::TestOGCAPI::test_conformance 
test_smoke.py::TestWFS::test_get_capabilities 
[gw9] [ 80%] PASSED test_smoke.py::TestWFS::test_get_capabilities 
test_smoke.py::TestWMS::test_get_capabilities 
[gw9] [ 81%] PASSED test_smoke.py::TestWMS::test_get_capabilities 
test_smoke.py::TestWMTS::test_get_capabilities 
[gw9] [ 81%] PASSED test_smoke.py::TestWMTS::test_get_capabilities 
test_smoke.py::TestSTAC::test_catalog_root 
[gw9] [ 81%] PASSED test_smoke.py::TestSTAC::test_catalog_root 
test_smoke.py::TestGeoServicesREST::test_rest_info 
[gw9] [ 81%] PASSED test_smoke.py::TestGeoServicesREST::test_rest_info 
test_smoke.py::TestHealth::test_health_live 
[gw9] [ 82%] PASSED test_smoke.py::TestHealth::test_health_live 
test_smoke.py::TestHealth::test_health_ready 
[gw0] [ 82%] FAILED test_ogc_features_requests.py::test_get_collection_items_returns_geojson 
test_ogc_features_requests.py::test_collection_items_include_links 
[gw8] [ 82%] FAILED test_wfs_owslib.py::test_wfs_get_feature_basic 
test_wfs_owslib.py::test_wfs_get_feature_count_parameter 
[gw5] [ 83%] FAILED test_wms_owslib.py::test_wms_get_feature_info_basic 
test_wms_owslib.py::test_wms_get_feature_info_formats 
[gw5] [ 83%] PASSED test_wms_owslib.py::test_wms_get_feature_info_formats 
test_wms_owslib.py::test_wms_get_legend_graphic_supported 
[gw5] [ 83%] PASSED test_wms_owslib.py::test_wms_get_legend_graphic_supported 
test_wms_owslib.py::test_wms_layer_default_style 
[gw5] [ 84%] PASSED test_wms_owslib.py::test_wms_layer_default_style 
test_wms_owslib.py::test_wms_invalid_layer_raises_error 
[gw5] [ 84%] PASSED test_wms_owslib.py::test_wms_invalid_layer_raises_error 
test_wms_owslib.py::test_wms_invalid_crs_raises_error 
[gw5] [ 84%] PASSED test_wms_owslib.py::test_wms_invalid_crs_raises_error 
test_wms_owslib.py::test_wms_invalid_bbox_raises_error 
[gw5] [ 84%] PASSED test_wms_owslib.py::test_wms_invalid_bbox_raises_error 
test_wms_owslib.py::test_wms_unsupported_format_raises_error 
[gw5] [ 85%] PASSED test_wms_owslib.py::test_wms_unsupported_format_raises_error 
test_wms_owslib.py::test_wms_time_dimension_if_supported 
[gw5] [ 85%] PASSED test_wms_owslib.py::test_wms_time_dimension_if_supported 
test_wms_owslib.py::test_wms_elevation_dimension_if_supported 
[gw5] [ 85%] PASSED test_wms_owslib.py::test_wms_elevation_dimension_if_supported 
test_wms_owslib.py::test_wms_1_3_0_axis_order 
[gw5] [ 86%] PASSED test_wms_owslib.py::test_wms_1_3_0_axis_order 
test_wms_owslib.py::test_wms_exception_format 
[gw5] [ 86%] PASSED test_wms_owslib.py::test_wms_exception_format 
[gw0] [ 86%] FAILED test_ogc_features_requests.py::test_collection_items_include_links 
test_ogc_features_requests.py::test_collection_items_validate_features 
[gw9] [ 86%] FAILED test_smoke.py::TestHealth::test_health_ready 
[gw8] [ 87%] SKIPPED test_wfs_owslib.py::test_wfs_get_feature_count_parameter 
test_wfs_owslib.py::test_wfs_get_feature_with_bbox_filter 
[gw0] [ 87%] PASSED test_ogc_features_requests.py::test_collection_items_validate_features 
test_ogc_features_requests.py::test_items_with_limit_parameter 
[gw8] [ 87%] FAILED test_wfs_owslib.py::test_wfs_get_feature_with_bbox_filter 
test_wfs_owslib.py::test_wfs_get_feature_geojson_format 
[gw0] [ 88%] FAILED test_ogc_features_requests.py::test_items_with_limit_parameter 
test_ogc_features_requests.py::test_items_with_bbox_filter 
[gw8] [ 88%] SKIPPED test_wfs_owslib.py::test_wfs_get_feature_geojson_format 
test_wfs_owslib.py::test_wfs_invalid_feature_type_raises_error 
[gw8] [ 88%] PASSED test_wfs_owslib.py::test_wfs_invalid_feature_type_raises_error 
test_wfs_owslib.py::test_wfs_getcapabilities_lists_feature_types 
[gw8] [ 89%] PASSED test_wfs_owslib.py::test_wfs_getcapabilities_lists_feature_types 
test_wfs_owslib.py::test_wfs_getfeature_returns_geojson 
[gw0] [ 89%] FAILED test_ogc_features_requests.py::test_items_with_bbox_filter 
test_ogc_features_requests.py::test_items_with_specific_bbox_filter 
[gw8] [ 89%] FAILED test_wfs_owslib.py::test_wfs_getfeature_returns_geojson 
test_wfs_owslib.py::test_wfs_getfeature_returns_gml 
[gw0] [ 89%] FAILED test_ogc_features_requests.py::test_items_with_specific_bbox_filter 
test_ogc_features_requests.py::test_items_with_datetime_filter 
[gw8] [ 90%] FAILED test_wfs_owslib.py::test_wfs_getfeature_returns_gml 
test_wfs_owslib.py::test_wfs_supports_bbox_filter 
[gw0] [ 90%] FAILED test_ogc_features_requests.py::test_items_with_datetime_filter 
test_ogc_features_requests.py::test_items_with_datetime_single_instant 
[gw8] [ 90%] FAILED test_wfs_owslib.py::test_wfs_supports_bbox_filter 
[gw0] [ 91%] FAILED test_ogc_features_requests.py::test_items_with_datetime_single_instant 
test_ogc_features_requests.py::test_items_with_open_ended_datetime 
[gw0] [ 91%] FAILED test_ogc_features_requests.py::test_items_with_open_ended_datetime 
test_ogc_features_requests.py::test_items_with_combined_filters 
[gw0] [ 91%] FAILED test_ogc_features_requests.py::test_items_with_combined_filters 
test_ogc_features_requests.py::test_items_pagination_with_limit_and_offset 
[gw0] [ 92%] FAILED test_ogc_features_requests.py::test_items_pagination_with_limit_and_offset 
test_ogc_features_requests.py::test_items_next_link_pagination 
[gw0] [ 92%] FAILED test_ogc_features_requests.py::test_items_next_link_pagination 
test_ogc_features_requests.py::test_items_self_link_present 
[gw0] [ 92%] FAILED test_ogc_features_requests.py::test_items_self_link_present 
test_ogc_features_requests.py::test_get_single_item_returns_geojson_feature 
[gw0] [ 92%] FAILED test_ogc_features_requests.py::test_get_single_item_returns_geojson_feature 
test_ogc_features_requests.py::test_get_single_item_includes_links 
[gw0] [ 93%] SKIPPED test_ogc_features_requests.py::test_get_single_item_includes_links 
test_ogc_features_requests.py::test_get_nonexistent_item_returns_404 
[gw0] [ 93%] FAILED test_ogc_features_requests.py::test_get_nonexistent_item_returns_404 
test_ogc_features_requests.py::test_get_collection_queryables 
[gw0] [ 93%] PASSED test_ogc_features_requests.py::test_get_collection_queryables 
test_ogc_features_requests.py::test_queryables_include_property_schema 
[gw0] [ 94%] PASSED test_ogc_features_requests.py::test_queryables_include_property_schema 
test_ogc_features_requests.py::test_items_with_crs_parameter 
[gw0] [ 94%] FAILED test_ogc_features_requests.py::test_items_with_crs_parameter 
test_ogc_features_requests.py::test_items_default_crs_is_wgs84 
[gw0] [ 94%] FAILED test_ogc_features_requests.py::test_items_default_crs_is_wgs84 
test_ogc_features_requests.py::test_items_geojson_format_via_accept_header 
[gw0] [ 94%] FAILED test_ogc_features_requests.py::test_items_geojson_format_via_accept_header 
test_ogc_features_requests.py::test_items_json_format_via_accept_header 
[gw0] [ 95%] FAILED test_ogc_features_requests.py::test_items_json_format_via_accept_header 
test_ogc_features_requests.py::test_items_format_via_f_parameter 
[gw0] [ 95%] FAILED test_ogc_features_requests.py::test_items_format_via_f_parameter 
test_ogc_features_requests.py::test_search_get_returns_features 
[gw0] [ 95%] FAILED test_ogc_features_requests.py::test_search_get_returns_features 
test_ogc_features_requests.py::test_search_post_returns_features 
[gw0] [ 96%] FAILED test_ogc_features_requests.py::test_search_post_returns_features 
test_ogc_features_requests.py::test_search_with_collections_filter 
[gw0] [ 96%] FAILED test_ogc_features_requests.py::test_search_with_collections_filter 
test_ogc_features_requests.py::test_search_with_bbox_filter 
[gw0] [ 96%] FAILED test_ogc_features_requests.py::test_search_with_bbox_filter 
test_ogc_features_requests.py::test_items_with_cql2_json_filter 
[gw0] [ 97%] PASSED test_ogc_features_requests.py::test_items_with_cql2_json_filter 
test_ogc_features_requests.py::test_items_with_cql2_text_filter 
[gw0] [ 97%] PASSED test_ogc_features_requests.py::test_items_with_cql2_text_filter 
test_ogc_features_requests.py::test_invalid_collection_id_returns_404 
[gw0] [ 97%] PASSED test_ogc_features_requests.py::test_invalid_collection_id_returns_404 
test_ogc_features_requests.py::test_invalid_bbox_format_returns_400 
[gw0] [ 97%] PASSED test_ogc_features_requests.py::test_invalid_bbox_format_returns_400 
test_ogc_features_requests.py::test_invalid_datetime_format_returns_400 
[gw0] [ 98%] PASSED test_ogc_features_requests.py::test_invalid_datetime_format_returns_400 
test_ogc_features_requests.py::test_negative_limit_returns_400 
[gw0] [ 98%] PASSED test_ogc_features_requests.py::test_negative_limit_returns_400 
test_ogc_features_requests.py::test_excessive_limit_is_capped 
[gw0] [ 98%] FAILED test_ogc_features_requests.py::test_excessive_limit_is_capped 
test_ogc_features_requests.py::test_items_include_numberreturned 
[gw0] [ 99%] FAILED test_ogc_features_requests.py::test_items_include_numberreturned 
test_ogc_features_requests.py::test_items_include_numbermatched 
[gw0] [ 99%] FAILED test_ogc_features_requests.py::test_items_include_numbermatched 
test_ogc_features_requests.py::test_collection_html_via_accept_header 
[gw0] [ 99%] PASSED test_ogc_features_requests.py::test_collection_html_via_accept_header 
test_ogc_features_requests.py::test_unsupported_format_returns_406 
[gw0] [100%] PASSED test_ogc_features_requests.py::test_unsupported_format_returns_406 

==================================== ERRORS ====================================
______________ ERROR at setup of test_search_with_query_parameter ______________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:70: in valid_collection_id
    collections = list(stac_client.get_collections())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/client.py:436: in get_collections
    for page in self._stac_io.get_pages(url):
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:169: in read_text
    with open(href) as f:
         ^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
____________ ERROR at setup of test_search_with_collections_filter _____________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:70: in valid_collection_id
    collections = list(stac_client.get_collections())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/client.py:436: in get_collections
    for page in self._stac_io.get_pages(url):
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:169: in read_text
    with open(href) as f:
         ^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
____________ ERROR at setup of test_search_within_collection_items _____________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:70: in valid_collection_id
    collections = list(stac_client.get_collections())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/client.py:436: in get_collections
    for page in self._stac_io.get_pages(url):
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:169: in read_text
    with open(href) as f:
         ^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
_____________ ERROR at setup of test_search_with_multiple_filters ______________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:70: in valid_collection_id
    collections = list(stac_client.get_collections())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/client.py:436: in get_collections
    for page in self._stac_io.get_pages(url):
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:169: in read_text
    with open(href) as f:
         ^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
_________________ ERROR at setup of test_collection_has_extent _________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:70: in valid_collection_id
    collections = list(stac_client.get_collections())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/client.py:436: in get_collections
    for page in self._stac_io.get_pages(url):
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:169: in read_text
    with open(href) as f:
         ^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
________________ ERROR at setup of test_collection_has_license _________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:70: in valid_collection_id
    collections = list(stac_client.get_collections())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/client.py:436: in get_collections
    for page in self._stac_io.get_pages(url):
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:169: in read_text
    with open(href) as f:
         ^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
=================================== FAILURES ===================================
________________________ test_wfs_feature_type_has_crs _________________________
[gw8] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_wfs_owslib.py:121: in test_wfs_feature_type_has_crs
    crs_list = [crs.upper() for crs in crs_options]
                ^^^^^^^^^
E   AttributeError: 'Crs' object has no attribute 'upper'
____________________ test_wfs_feature_type_has_bounding_box ____________________
[gw8] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_wfs_owslib.py:133: in test_wfs_feature_type_has_bounding_box
    assert bbox is not None, "Bounding box should not be None"
E   AssertionError: Bounding box should not be None
E   assert None is not None
_________________ test_execute_nonexistent_process_returns_404 _________________
[gw1] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_processes_requests.py:457: in test_execute_nonexistent_process_returns_404
    assert response.status_code == 404, \
E   AssertionError: Expected 404 for non-existent process, got 403
E   assert 403 == 404
E    +  where 403 = <Response [403]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /processes/nonexistent-process-xyz-12345/execution HTTP/1.1" 403 None
______________________ test_csw_supported_output_schemas _______________________
[gw3] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_csw_owslib.py:171: in test_csw_supported_output_schemas
    params = {p['name']: p for p in getrecords_op.parameters}
              ^^^^^^^^^
E   TypeError: string indices must be integers, not 'str'
___________________ test_dismiss_nonexistent_job_returns_404 ___________________
[gw1] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_processes_requests.py:808: in test_dismiss_nonexistent_job_returns_404
    assert response.status_code == 404, \
E   AssertionError: Expected 404 for non-existent job, got 403
E   assert 403 == 404
E    +  where 403 = <Response [403]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "DELETE /jobs/nonexistent-job-xyz-12345 HTTP/1.1" 403 None
__________________________ test_csw_get_records_basic __________________________
[gw3] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_csw_owslib.py:236: in test_csw_get_records_basic
    csw_client.getrecords2(maxrecords=10)
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:390: in getrecords2
    self._invoke()
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:707: in _invoke
    self._exml = etree.parse(BytesIO(self.response))
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/lxml/etree.pyx:3711: in lxml.etree.parse
    ???
src/lxml/parser.pxi:2048: in lxml.etree._parseDocument
    ???
src/lxml/parser.pxi:2066: in lxml.etree._parseMemoryDocument
    ???
src/lxml/parser.pxi:1919: in lxml.etree._parseDoc
    ???
src/lxml/parser.pxi:1944: in lxml.etree._parseDoc_bytes
    ???
src/lxml/parser.pxi:1194: in lxml.etree._BaseParser._parseDoc
    ???
src/lxml/parser.pxi:647: in lxml.etree._ParserContext._handleParseResultDoc
    ???
src/lxml/parser.pxi:765: in lxml.etree._handleParseResult
    ???
src/lxml/parser.pxi:689: in lxml.etree._raiseParseError
    ???
E     File "<string>", line 1
E   lxml.etree.XMLSyntaxError: Start tag expected, '<' not found, line 1, column 1

During handling of the above exception, another exception occurred:
test_csw_owslib.py:251: in test_csw_get_records_basic
    pytest.fail(f"GetRecords failed: {e}")
E   Failed: GetRecords failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /csw HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/csw HTTP/1.1" 403 None
______________________ test_stac_catalog_has_conformance _______________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:101: in test_stac_catalog_has_conformance
    conformance = stac_client.conformance
                  ^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'Client' object has no attribute 'conformance'. Did you mean: 'conforms_to'?
------------------------------ Captured log setup ------------------------------
DEBUG    urllib3.util.retry:retry.py:286 Converted retries value: 5 -> Retry(total=5, connect=None, read=None, redirect=None, status=None)
DEBUG    urllib3.util.retry:retry.py:286 Converted retries value: 5 -> Retry(total=5, connect=None, read=None, redirect=None, status=None)
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 GET http://localhost:5100/stac Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive'}
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /stac HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/stac HTTP/1.1" 200 None
_____________________ test_stac_catalog_lists_collections ______________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:113: in test_stac_catalog_lists_collections
    collections = list(stac_client.get_collections())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/client.py:436: in get_collections
    for page in self._stac_io.get_pages(url):
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:169: in read_text
    with open(href) as f:
         ^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
__________________________ test_csw_get_records_count __________________________
[gw3] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_csw_owslib.py:259: in test_csw_get_records_count
    csw_client.getrecords2(maxrecords=max_records)
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:390: in getrecords2
    self._invoke()
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:707: in _invoke
    self._exml = etree.parse(BytesIO(self.response))
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/lxml/etree.pyx:3711: in lxml.etree.parse
    ???
src/lxml/parser.pxi:2048: in lxml.etree._parseDocument
    ???
src/lxml/parser.pxi:2066: in lxml.etree._parseMemoryDocument
    ???
src/lxml/parser.pxi:1919: in lxml.etree._parseDoc
    ???
src/lxml/parser.pxi:1944: in lxml.etree._parseDoc_bytes
    ???
src/lxml/parser.pxi:1194: in lxml.etree._BaseParser._parseDoc
    ???
src/lxml/parser.pxi:647: in lxml.etree._ParserContext._handleParseResultDoc
    ???
src/lxml/parser.pxi:765: in lxml.etree._handleParseResult
    ???
src/lxml/parser.pxi:689: in lxml.etree._raiseParseError
    ???
E     File "<string>", line 1
E   lxml.etree.XMLSyntaxError: Start tag expected, '<' not found, line 1, column 1

During handling of the above exception, another exception occurred:
test_csw_owslib.py:274: in test_csw_get_records_count
    pytest.fail(f"GetRecords with maxrecords failed: {e}")
E   Failed: GetRecords with maxrecords failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /csw HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/csw HTTP/1.1" 403 None
_______________________ test_wcs_open_coverage_via_gdal ________________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:78: in test_wcs_open_coverage_via_gdal
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.session:session.py:15 Could not import boto3, continuing with reduced functionality.
DEBUG    rasterio.env:env.py:660 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio.env:env.py:685 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfb2dd90>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfb3de40> created
DEBUG    rasterio._filepath:env.py:338 Installing FilePath filesystem handler plugin...
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfb3de40>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfb2dd90>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfb2dd90>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfb3de40> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfb3de40>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfb2dd90>
____________________________ test_search_with_bbox _____________________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:142: in test_search_with_bbox
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000004"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '38', 'Content-Type': 'application/json'} Payload: {"bbox": [-180.0, -90.0, 180.0, 90.0]}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
__________________ test_wcs_open_coverage_via_xml_descriptor ___________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:106: in test_wcs_open_coverage_via_xml_descriptor
    with rasterio.open(str(xml_file)) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd520568cb0>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfb3f220> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfb3f220>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd520568cb0>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd520568cb0>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfb3f220> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfb3f220>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd520568cb0>
__________________ test_csw_get_records_validates_total_count __________________
[gw3] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_csw_owslib.py:327: in test_csw_get_records_validates_total_count
    csw_client.getrecords2(maxrecords=5)
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:390: in getrecords2
    self._invoke()
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:707: in _invoke
    self._exml = etree.parse(BytesIO(self.response))
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/lxml/etree.pyx:3711: in lxml.etree.parse
    ???
src/lxml/parser.pxi:2048: in lxml.etree._parseDocument
    ???
src/lxml/parser.pxi:2066: in lxml.etree._parseMemoryDocument
    ???
src/lxml/parser.pxi:1919: in lxml.etree._parseDoc
    ???
src/lxml/parser.pxi:1944: in lxml.etree._parseDoc_bytes
    ???
src/lxml/parser.pxi:1194: in lxml.etree._BaseParser._parseDoc
    ???
src/lxml/parser.pxi:647: in lxml.etree._ParserContext._handleParseResultDoc
    ???
src/lxml/parser.pxi:765: in lxml.etree._handleParseResult
    ???
src/lxml/parser.pxi:689: in lxml.etree._raiseParseError
    ???
E     File "<string>", line 1
E   lxml.etree.XMLSyntaxError: Start tag expected, '<' not found, line 1, column 1

During handling of the above exception, another exception occurred:
test_csw_owslib.py:342: in test_csw_get_records_validates_total_count
    pytest.fail(f"GetRecords count validation failed: {e}")
E   Failed: GetRecords count validation failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /csw HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/csw HTTP/1.1" 403 None
_______________________ test_wcs_read_coverage_metadata ________________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:134: in test_wcs_read_coverage_metadata
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfb2da30>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4df7ec8b0> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4df7ec8b0>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfb2da30>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfb2da30>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4df7ec8b0> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4df7ec8b0>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfb2da30>
__________________________ test_wcs_read_coverage_crs __________________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:164: in test_wcs_read_coverage_crs
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfb3dd60>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfb3df90> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfb3df90>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfb3dd60>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfb3dd60>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfb3df90> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfb3df90>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfb3dd60>
_______________________ test_wcs_read_coverage_transform _______________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:193: in test_wcs_read_coverage_transform
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4df7eeae0>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4df7eded0> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4df7eded0>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4df7eeae0>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4df7eeae0>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4df7eded0> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4df7eded0>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4df7eeae0>
________________________ test_wcs_read_coverage_bounds _________________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:225: in test_wcs_read_coverage_bounds
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfb3ddc0>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfb3e470> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfb3e470>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfb3ddc0>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfb3ddc0>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfb3e470> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfb3e470>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfb3ddc0>
____________________ test_unsupported_format_returns_error _____________________
[gw2] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_tiles_requests.py:839: in test_unsupported_format_returns_error
    assert response.status_code in (400, 406, 415), \
E   AssertionError: Unsupported format should return 400/406/415, got 200
E   assert 200 in (400, 406, 415)
E    +  where 200 = <Response [200]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/tiles/WorldWebMercatorQuad/0/0/0?f=invalid_format HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/tiles/WorldWebMercatorQuad/0/0/0?f=invalid_format HTTP/1.1" 200 3782
______________________ test_wcs_read_coverage_resolution _______________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:254: in test_wcs_read_coverage_resolution
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4df7ec9b0>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4df7edfc0> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4df7edfc0>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4df7ec9b0>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4df7ec9b0>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4df7edfc0> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4df7edfc0>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4df7ec9b0>
___________________ test_csw_get_records_dublin_core_schema ____________________
[gw3] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_csw_owslib.py:481: in test_csw_get_records_dublin_core_schema
    csw_client.getrecords2(maxrecords=5)
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:390: in getrecords2
    self._invoke()
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:707: in _invoke
    self._exml = etree.parse(BytesIO(self.response))
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/lxml/etree.pyx:3711: in lxml.etree.parse
    ???
src/lxml/parser.pxi:2048: in lxml.etree._parseDocument
    ???
src/lxml/parser.pxi:2066: in lxml.etree._parseMemoryDocument
    ???
src/lxml/parser.pxi:1919: in lxml.etree._parseDoc
    ???
src/lxml/parser.pxi:1944: in lxml.etree._parseDoc_bytes
    ???
src/lxml/parser.pxi:1194: in lxml.etree._BaseParser._parseDoc
    ???
src/lxml/parser.pxi:647: in lxml.etree._ParserContext._handleParseResultDoc
    ???
src/lxml/parser.pxi:765: in lxml.etree._handleParseResult
    ???
src/lxml/parser.pxi:689: in lxml.etree._raiseParseError
    ???
E     File "<string>", line 1
E   lxml.etree.XMLSyntaxError: Start tag expected, '<' not found, line 1, column 1

During handling of the above exception, another exception occurred:
test_csw_owslib.py:493: in test_csw_get_records_dublin_core_schema
    pytest.fail(f"Dublin Core schema test failed: {e}")
E   Failed: Dublin Core schema test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /csw HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/csw HTTP/1.1" 403 None
________________________ test_search_with_specific_bbox ________________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:157: in test_search_with_specific_bbox
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000006"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '38', 'Content-Type': 'application/json'} Payload: {"bbox": [-125.0, 32.0, -114.0, 42.0]}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
_____________________ test_search_with_intersects_geometry _____________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:186: in test_search_with_intersects_geometry
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000008"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '129', 'Content-Type': 'application/json'} Payload: {"intersects": {"type": "Polygon", "coordinates": [[[10.0, -10.0], [10.0, 10.0], [-10.0, 10.0], [-10.0, -10.0], [10.0, -10.0]]]}}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
_______________________ test_wcs_read_coverage_data_full _______________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:293: in test_wcs_read_coverage_data_full
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfb3e390>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfb3fc70> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfb3fc70>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfb3e390>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfb3e390>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfb3fc70> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfb3fc70>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfb3e390>
_____________________ test_search_with_intersects_geojson ______________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:209: in test_search_with_intersects_geojson
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000000A"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '110', 'Content-Type': 'application/json'} Payload: {"intersects": {"type": "Polygon", "coordinates": [[[-10, -10], [10, -10], [10, 10], [-10, 10], [-10, -10]]]}}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
_____________________ test_wcs_read_coverage_data_windowed _____________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:326: in test_wcs_read_coverage_data_windowed
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4df7ef470>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4df7efb80> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4df7efb80>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4df7ef470>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4df7ef470>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4df7efb80> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4df7efb80>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4df7ef470>
___________________ test_wcs_read_coverage_data_downsampled ____________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:363: in test_wcs_read_coverage_data_downsampled
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfb3fe90>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfb3e9b0> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfb3e9b0>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfb3fe90>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfb3fe90>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfb3e9b0> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfb3e9b0>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfb3fe90>
_______________________ test_search_with_datetime_single _______________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:228: in test_search_with_datetime_single
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000000C"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '36', 'Content-Type': 'application/json'} Payload: {"datetime": "2024-01-01T00:00:00Z"}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
_________________ test_wcs_read_coverage_data_with_resampling __________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:404: in test_wcs_read_coverage_data_with_resampling
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfb3e9c0>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfb3f4c0> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfb3f4c0>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfb3e9c0>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfb3e9c0>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfb3f4c0> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfb3f4c0>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfb3e9c0>
________________________ test_csw_record_has_identifier ________________________
[gw3] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_csw_owslib.py:683: in test_csw_record_has_identifier
    csw_client.getrecords2(maxrecords=5)
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:390: in getrecords2
    self._invoke()
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:707: in _invoke
    self._exml = etree.parse(BytesIO(self.response))
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/lxml/etree.pyx:3711: in lxml.etree.parse
    ???
src/lxml/parser.pxi:2048: in lxml.etree._parseDocument
    ???
src/lxml/parser.pxi:2066: in lxml.etree._parseMemoryDocument
    ???
src/lxml/parser.pxi:1919: in lxml.etree._parseDoc
    ???
src/lxml/parser.pxi:1944: in lxml.etree._parseDoc_bytes
    ???
src/lxml/parser.pxi:1194: in lxml.etree._BaseParser._parseDoc
    ???
src/lxml/parser.pxi:647: in lxml.etree._ParserContext._handleParseResultDoc
    ???
src/lxml/parser.pxi:765: in lxml.etree._handleParseResult
    ???
src/lxml/parser.pxi:689: in lxml.etree._raiseParseError
    ???
E     File "<string>", line 1
E   lxml.etree.XMLSyntaxError: Start tag expected, '<' not found, line 1, column 1

During handling of the above exception, another exception occurred:
test_csw_owslib.py:698: in test_csw_record_has_identifier
    pytest.fail(f"Record identifier test failed: {e}")
E   Failed: Record identifier test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /csw HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/csw HTTP/1.1" 403 None
_______________________ test_search_with_datetime_range ________________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:242: in test_search_with_datetime_range
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000000E"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '57', 'Content-Type': 'application/json'} Payload: {"datetime": "2023-01-01T00:00:00Z/2024-12-31T23:59:59Z"}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
_________________________ test_wcs_read_band_metadata __________________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:445: in test_wcs_read_band_metadata
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfb3fd40>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4df7ef8e0> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4df7ef8e0>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfb3fd40>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfb3fd40>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4df7ef8e0> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4df7ef8e0>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfb3fd40>
_______________________ test_wcs_read_multiband_coverage _______________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:483: in test_wcs_read_multiband_coverage
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4df7ef800>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4df7ed990> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4df7ed990>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4df7ef800>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4df7ef800>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4df7ed990> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4df7ed990>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4df7ef800>
_____________________ test_search_with_open_ended_datetime _____________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:256: in test_search_with_open_ended_datetime
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000010"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '39', 'Content-Type': 'application/json'} Payload: {"datetime": "2023-01-01T00:00:00Z/.."}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
__________________________ test_csw_record_has_title ___________________________
[gw3] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_csw_owslib.py:704: in test_csw_record_has_title
    csw_client.getrecords2(maxrecords=5)
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:390: in getrecords2
    self._invoke()
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:707: in _invoke
    self._exml = etree.parse(BytesIO(self.response))
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/lxml/etree.pyx:3711: in lxml.etree.parse
    ???
src/lxml/parser.pxi:2048: in lxml.etree._parseDocument
    ???
src/lxml/parser.pxi:2066: in lxml.etree._parseMemoryDocument
    ???
src/lxml/parser.pxi:1919: in lxml.etree._parseDoc
    ???
src/lxml/parser.pxi:1944: in lxml.etree._parseDoc_bytes
    ???
src/lxml/parser.pxi:1194: in lxml.etree._BaseParser._parseDoc
    ???
src/lxml/parser.pxi:647: in lxml.etree._ParserContext._handleParseResultDoc
    ???
src/lxml/parser.pxi:765: in lxml.etree._handleParseResult
    ???
src/lxml/parser.pxi:689: in lxml.etree._raiseParseError
    ???
E     File "<string>", line 1
E   lxml.etree.XMLSyntaxError: Start tag expected, '<' not found, line 1, column 1

During handling of the above exception, another exception occurred:
test_csw_owslib.py:713: in test_csw_record_has_title
    pytest.fail(f"Record title test failed: {e}")
E   Failed: Record title test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /csw HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/csw HTTP/1.1" 403 None
____________________ test_wcs_coverage_data_type_preserved _____________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:526: in test_wcs_coverage_data_type_preserved
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd5206d3860>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfba7130> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfba7130>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd5206d3860>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd5206d3860>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfba7130> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfba7130>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd5206d3860>
___________________________ test_csw_record_has_type ___________________________
[gw3] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_csw_owslib.py:719: in test_csw_record_has_type
    csw_client.getrecords2(maxrecords=5)
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:390: in getrecords2
    self._invoke()
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:707: in _invoke
    self._exml = etree.parse(BytesIO(self.response))
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/lxml/etree.pyx:3711: in lxml.etree.parse
    ???
src/lxml/parser.pxi:2048: in lxml.etree._parseDocument
    ???
src/lxml/parser.pxi:2066: in lxml.etree._parseMemoryDocument
    ???
src/lxml/parser.pxi:1919: in lxml.etree._parseDoc
    ???
src/lxml/parser.pxi:1944: in lxml.etree._parseDoc_bytes
    ???
src/lxml/parser.pxi:1194: in lxml.etree._BaseParser._parseDoc
    ???
src/lxml/parser.pxi:647: in lxml.etree._ParserContext._handleParseResultDoc
    ???
src/lxml/parser.pxi:765: in lxml.etree._handleParseResult
    ???
src/lxml/parser.pxi:689: in lxml.etree._raiseParseError
    ???
E     File "<string>", line 1
E   lxml.etree.XMLSyntaxError: Start tag expected, '<' not found, line 1, column 1

During handling of the above exception, another exception occurred:
test_csw_owslib.py:733: in test_csw_record_has_type
    pytest.fail(f"Record type test failed: {e}")
E   Failed: Record type test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /csw HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/csw HTTP/1.1" 403 None
__________________ test_search_with_datetime_validates_items ___________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:273: in test_search_with_datetime_validates_items
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000012"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '67', 'Content-Type': 'application/json'} Payload: {"datetime": "2020-01-01T00:00:00+00:00/2025-12-31T00:00:00+00:00"}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
_____________________ test_wcs_coverage_crs_transformation _____________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:568: in test_wcs_coverage_crs_transformation
    with rasterio.open(wcs_url) as src:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4df7efb90>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfba6f80> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfba6f80>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4df7efb90>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4df7efb90>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfba6f80> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfba6f80>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4df7efb90>
_____________________ test_wcs_malformed_url_raises_error ______________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_wcs_rasterio.py:641: in test_wcs_malformed_url_raises_error
    with pytest.raises(RasterioIOError):
E   Failed: DID NOT RAISE <class 'rasterio.errors.RasterioIOError'>
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfba6270>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfba4520> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfba4520>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfba6270>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
DEBUG    rasterio._base:__init__.py:356 Dataset <open DatasetReader name='WCS:http://localhost:5100/v1/wcs' mode='r'> is started.
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfba6270>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfba4520> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfba4520>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfba6270>
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfba7770>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfba7100> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfba7100>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfba7770>
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfba7770>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfba7100> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfba7100>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfba7770>
_________________________ test_wcs_gdal_config_options _________________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:668: in test_wcs_gdal_config_options
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfba42c0>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfba72e0> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfba72e0>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfba42c0>
DEBUG    rasterio.env:env.py:346 Got a copy of environment <rasterio._env.GDALEnv object at 0x7fd4dfba72e0> options
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd4dfba5610>
DEBUG    rasterio.env:env.py:346 Got a copy of environment <rasterio._env.GDALEnv object at 0x7fd4dfba72e0> options
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd4dfba5610>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfba5610>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfba72e0> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfba72e0>.
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4dfba7d30> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4dfba7d30>.
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfba5610>
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd4dfba42c0>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4dfba7d30> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4dfba7d30>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd4dfba42c0>
____________________ test_search_with_multiple_collections _____________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:328: in test_search_with_multiple_collections
    collections = list(stac_client.get_collections())
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/client.py:436: in get_collections
    for page in self._stac_io.get_pages(url):
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:169: in read_text
    with open(href) as f:
         ^^^^^^^^^^
E   FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
_____________________ test_csw_invalid_filter_raises_error _____________________
[gw3] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_csw_owslib.py:859: in test_csw_invalid_filter_raises_error
    csw_client.getrecords2(
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:390: in getrecords2
    self._invoke()
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:707: in _invoke
    self._exml = etree.parse(BytesIO(self.response))
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/lxml/etree.pyx:3711: in lxml.etree.parse
    ???
src/lxml/parser.pxi:2048: in lxml.etree._parseDocument
    ???
src/lxml/parser.pxi:2066: in lxml.etree._parseMemoryDocument
    ???
src/lxml/parser.pxi:1919: in lxml.etree._parseDoc
    ???
src/lxml/parser.pxi:1944: in lxml.etree._parseDoc_bytes
    ???
src/lxml/parser.pxi:1194: in lxml.etree._BaseParser._parseDoc
    ???
src/lxml/parser.pxi:647: in lxml.etree._ParserContext._handleParseResultDoc
    ???
src/lxml/parser.pxi:765: in lxml.etree._handleParseResult
    ???
src/lxml/parser.pxi:689: in lxml.etree._raiseParseError
    ???
E     File "<string>", line 1
E   lxml.etree.XMLSyntaxError: Start tag expected, '<' not found, line 1, column 1

During handling of the above exception, another exception occurred:
test_csw_owslib.py:870: in test_csw_invalid_filter_raises_error
    assert "property" in str(e).lower() or "filter" in str(e).lower() or "constraint" in str(e).lower(), \
E   AssertionError: Error should mention invalid filter: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
E   assert ('property' in "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" or 'filter' in "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" or 'constraint' in "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)")
E    +  where "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = <built-in method lower of str object at 0x7fdda2bc8c70>()
E    +    where <built-in method lower of str object at 0x7fdda2bc8c70> = "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)".lower
E    +      where "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = str(XMLSyntaxError("Start tag expected, '<' not found, line 1, column 1"))
E    +  and   "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = <built-in method lower of str object at 0x7fdda2c07440>()
E    +    where <built-in method lower of str object at 0x7fdda2c07440> = "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)".lower
E    +      where "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = str(XMLSyntaxError("Start tag expected, '<' not found, line 1, column 1"))
E    +  and   "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = <built-in method lower of str object at 0x7fdda2c07ad0>()
E    +    where <built-in method lower of str object at 0x7fdda2c07ad0> = "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)".lower
E    +      where "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = str(XMLSyntaxError("Start tag expected, '<' not found, line 1, column 1"))
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /csw HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/csw HTTP/1.1" 403 None
______________________ test_wcs_large_coverage_streaming _______________________
[gw7] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
rasterio/_base.pyx:310: in rasterio._base.DatasetBase.__init__
    ???
rasterio/_base.pyx:221: in rasterio._base.open_dataset
    ???
rasterio/_err.pyx:359: in rasterio._err.exc_wrap_pointer
    ???
E   rasterio._err.CPLE_AppDefinedError: NoApplicableCode: Coverage file not found.

During handling of the above exception, another exception occurred:
test_wcs_rasterio.py:734: in test_wcs_large_coverage_streaming
    with rasterio.open(wcs_url) as dataset:
         ^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/env.py:463: in wrapper
    return f(*args, **kwds)
           ^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/rasterio/__init__.py:356: in open
    dataset = DatasetReader(path, driver=driver, sharing=sharing, **kwargs)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
rasterio/_base.pyx:312: in rasterio._base.DatasetBase.__init__
    ???
E   rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
------------------------------ Captured log call -------------------------------
DEBUG    rasterio.env:env.py:284 Entering env context: <rasterio.env.Env object at 0x7fd5206d3aa0>
DEBUG    rasterio.env:env.py:286 Starting outermost env
DEBUG    rasterio.env:env.py:333 No GDAL environment exists
DEBUG    rasterio.env:env.py:336 New GDAL environment <rasterio._env.GDALEnv object at 0x7fd4df7ef8e0> created
DEBUG    rasterio._env:env.py:338 GDAL data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/gdal_data'.
DEBUG    rasterio._env:env.py:338 PROJ data found in package: path='/home/mike/projects/Honua.Server/tests/python/.venv/lib/python3.12/site-packages/rasterio/proj_data'.
DEBUG    rasterio._env:env.py:338 Started GDALEnv: self=<rasterio._env.GDALEnv object at 0x7fd4df7ef8e0>.
DEBUG    rasterio.env:env.py:308 Entered env context: <rasterio.env.Env object at 0x7fd5206d3aa0>
DEBUG    rasterio._base:__init__.py:356 Sharing flag: 0
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='HTTP error code : 400'
INFO     rasterio._env:__init__.py:356 GDAL signalled an error: err_no=1, msg='NoApplicableCode: Coverage file not found.'
DEBUG    rasterio.env:env.py:312 Exiting env context: <rasterio.env.Env object at 0x7fd5206d3aa0>
DEBUG    rasterio.env:env.py:373 Cleared existing <rasterio._env.GDALEnv object at 0x7fd4df7ef8e0> options
DEBUG    rasterio._env:env.py:374 Stopped GDALEnv <rasterio._env.GDALEnv object at 0x7fd4df7ef8e0>.
DEBUG    rasterio.env:env.py:318 Exiting outermost env
DEBUG    rasterio.env:env.py:325 Exited env context: <rasterio.env.Env object at 0x7fd5206d3aa0>
___________________ test_csw_invalid_output_schema_handling ____________________
[gw3] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_csw_owslib.py:878: in test_csw_invalid_output_schema_handling
    csw_client.getrecords2(
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:390: in getrecords2
    self._invoke()
.venv/lib/python3.12/site-packages/owslib/catalogue/csw2.py:707: in _invoke
    self._exml = etree.parse(BytesIO(self.response))
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/lxml/etree.pyx:3711: in lxml.etree.parse
    ???
src/lxml/parser.pxi:2048: in lxml.etree._parseDocument
    ???
src/lxml/parser.pxi:2066: in lxml.etree._parseMemoryDocument
    ???
src/lxml/parser.pxi:1919: in lxml.etree._parseDoc
    ???
src/lxml/parser.pxi:1944: in lxml.etree._parseDoc_bytes
    ???
src/lxml/parser.pxi:1194: in lxml.etree._BaseParser._parseDoc
    ???
src/lxml/parser.pxi:647: in lxml.etree._ParserContext._handleParseResultDoc
    ???
src/lxml/parser.pxi:765: in lxml.etree._handleParseResult
    ???
src/lxml/parser.pxi:689: in lxml.etree._raiseParseError
    ???
E     File "<string>", line 1
E   lxml.etree.XMLSyntaxError: Start tag expected, '<' not found, line 1, column 1

During handling of the above exception, another exception occurred:
test_csw_owslib.py:893: in test_csw_invalid_output_schema_handling
    assert "schema" in str(e).lower() or "format" in str(e).lower(), \
E   AssertionError: Error should mention invalid schema: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
E   assert ('schema' in "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" or 'format' in "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)")
E    +  where "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = <built-in method lower of str object at 0x7fdda36dac60>()
E    +    where <built-in method lower of str object at 0x7fdda36dac60> = "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)".lower
E    +      where "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = str(XMLSyntaxError("Start tag expected, '<' not found, line 1, column 1"))
E    +  and   "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = <built-in method lower of str object at 0x7fdda2c07ec0>()
E    +    where <built-in method lower of str object at 0x7fdda2c07ec0> = "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)".lower
E    +      where "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = str(XMLSyntaxError("Start tag expected, '<' not found, line 1, column 1"))
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /csw HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/csw HTTP/1.1" 403 None
______________________ test_iterate_through_paged_results ______________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:373: in test_iterate_through_paged_results
    for item in search.items():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000014"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'} Payload: {}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
____________________ test_item_collection_returns_all_pages ____________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:386: in test_item_collection_returns_all_pages
    item_collection = search.item_collection()
                      ^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:855: in item_collection
    feature_collection = self.item_collection_as_dict.__wrapped__(self)
                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:876: in item_collection_as_dict
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000016"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'} Payload: {}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
__________________________ test_pagination_with_limit __________________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:401: in test_pagination_with_limit
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000018"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '12', 'Content-Type': 'application/json'} Payload: {"limit": 3}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
______________________ test_download_item_asset_metadata _______________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:414: in test_download_item_asset_metadata
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000001A"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'} Payload: {}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
______________________ test_download_asset_with_requests _______________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:435: in test_download_asset_with_requests
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000001C"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'} Payload: {}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
__________________________ test_cog_asset_is_geotiff ___________________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:469: in test_cog_asset_is_geotiff
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000001E"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'} Payload: {}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
________________________ test_validate_stac_item_schema ________________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:502: in test_validate_stac_item_schema
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000020"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'} Payload: {}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
____________________ test_validate_item_has_required_fields ____________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:532: in test_validate_item_has_required_fields
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000022"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'} Payload: {}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
____________________ test_validate_item_geometry_is_geojson ____________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:553: in test_validate_item_geometry_is_geojson
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000024"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'} Payload: {}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
________________ test_search_with_spatial_and_temporal_filters _________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:652: in test_search_with_spatial_and_temporal_filters
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000028"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '95', 'Content-Type': 'application/json'} Payload: {"bbox": [-125.0, 32.0, -114.0, 42.0], "datetime": "2020-01-01T00:00:00Z/2025-12-31T23:59:59Z"}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
______________________ test_search_matches_returned_count ______________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:667: in test_search_matches_returned_count
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000002A"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '12', 'Content-Type': 'application/json'} Payload: {"limit": 5}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
_____________________________ test_item_has_links ______________________________
[gw6] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_stac_pystac.py:675: in test_item_has_links
    items = list(search.items())
            ^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:785: in items
    for item in self.items_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:796: in items_as_dicts
    for page in self.pages_as_dicts():
.venv/lib/python3.12/site-packages/pystac_client/item_search.py:826: in pages_as_dicts
    for page in self._stac_io.get_pages(
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:304: in get_pages
    page = self.read_json(url, method=method, parameters=parameters)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac/stac_io.py:206: in read_json
    txt = self.read_text(source, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:167: in read_text
    return self.request(href, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/pystac_client/stac_api_io.py:219: in request
    raise APIError.from_response(resp)
E   pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000002C"}
------------------------------ Captured log call -------------------------------
DEBUG    pystac_client.stac_api_io:stac_api_io.py:210 POST http://localhost:5100/stac/search Headers: {'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '2', 'Content-Type': 'application/json'} Payload: {}
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /stac/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/stac/search HTTP/1.1" 403 None
__________________ test_get_collection_items_returns_geojson ___________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:384: in test_get_collection_items_returns_geojson
    assert response.status_code == 200, f"Expected 200, got {response.status_code}"
E   AssertionError: Expected 200, got 500
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items HTTP/1.1" 500 None
__________________________ test_wfs_get_feature_basic __________________________
[gw8] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_wfs_owslib.py:171: in test_wfs_get_feature_basic
    response = wfs_client.getfeature(
.venv/lib/python3.12/site-packages/owslib/feature/wfs200.py:287: in getfeature
    u = openURL(url, data, method, timeout=self.timeout, headers=self.headers, auth=self.auth)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/owslib/util.py:214: in openURL
    req.raise_for_status()
.venv/lib/python3.12/site-packages/requests/models.py:1026: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://localhost:5100/v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10

During handling of the above exception, another exception occurred:
test_wfs_owslib.py:190: in test_wfs_get_feature_basic
    pytest.fail(f"GetFeature failed: {e}")
E   Failed: GetFeature failed: 500 Server Error: Internal Server Error for url: http://localhost:5100/v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10
------------------------------ Captured log call -------------------------------
DEBUG    owslib.feature.wfs200:wfs200.py:270 GetFeature WFS GET url http://localhost:5100/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10 HTTP/1.1" 500 None
_______________________ test_wms_get_feature_info_basic ________________________
[gw5] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_wms_owslib.py:394: in test_wms_get_feature_info_basic
    response = wms_client.getfeatureinfo(
.venv/lib/python3.12/site-packages/owslib/map/wms130.py:386: in getfeatureinfo
    u = openURL(base_url, data, method, timeout=timeout or self.timeout, auth=self.auth, headers=self.headers)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/owslib/util.py:214: in openURL
    req.raise_for_status()
.venv/lib/python3.12/site-packages/requests/models.py:1026: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://localhost:5100/v1/wms?service=WMS&version=1.3.0&request=GetFeatureInfo&layers=roads%3Aelevation&styles=&width=256&height=256&crs=EPSG%3A4326&bbox=45.5%2C-122.6%2C45.7%2C-122.3&format=None&transparent=FALSE&exceptions=XML&bgcolor=0xFFFFFF&query_layers=roads%3Aelevation&i=128&j=128&info_format=application%2Fjson&feature_count=20
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /wms?service=WMS&version=1.3.0&request=GetFeatureInfo&layers=roads%3Aelevation&styles=&width=256&height=256&crs=EPSG%3A4326&bbox=45.5%2C-122.6%2C45.7%2C-122.3&format=None&transparent=FALSE&exceptions=XML&bgcolor=0xFFFFFF&query_layers=roads%3Aelevation&i=128&j=128&info_format=application%2Fjson&feature_count=20 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/wms?service=WMS&version=1.3.0&request=GetFeatureInfo&layers=roads%3Aelevation&styles=&width=256&height=256&crs=EPSG%3A4326&bbox=45.5%2C-122.6%2C45.7%2C-122.3&format=None&transparent=FALSE&exceptions=XML&bgcolor=0xFFFFFF&query_layers=roads%3Aelevation&i=128&j=128&info_format=application%2Fjson&feature_count=20 HTTP/1.1" 500 None
_____________________ test_collection_items_include_links ______________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:395: in test_collection_items_include_links
    assert "links" in data, "Items response must include links"
E   AssertionError: Items response must include links
E   assert 'links' in {'type': 'https://tools.ietf.org/html/rfc7231#section-6.6.1', 'title': 'Internal Server Error', 'status': 500, 'detail': "SQLite Error 14: 'unable to open database file'.", 'instance': '/v1/ogc/collections/roads::roads-primary/items', 'correlationId': '0HNGV0BFOTHSH:0000001C', 'traceId': '0HNGV0BFOTHSH:0000001C', 'timestamp': '2025-11-08T20:19:18.2716669+00:00', 'exceptionType': 'Microsoft.Data.Sqlite.SqliteException', 'stackTrace': '   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)\n   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()\n   at Microsoft.Data.Sqlite.SqliteConnection.Open()\n   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)\n--- End of stack trace from previous location ---\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.<>c__DisplayClass15_0.<<QueryAsync>b__0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 74\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.QueryAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken)+MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 73\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.QueryAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken)+MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 85\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.QueryAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()\n   at Honua.Server.Core.Data.FeatureRepository.QueryInternalAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken)+MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/FeatureRepository.cs:line 106\n   at Honua.Server.Core.Data.FeatureRepository.QueryInternalAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken)+MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/FeatureRepository.cs:line 106\n   at Honua.Server.Core.Data.FeatureRepository.QueryInternalAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()\n   at Honua.Server.Host.Ogc.OgcFeaturesHandlers.<>c__DisplayClass5_0.<<ApplyPaginationWindow>g__Window|0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeaturesHandlers.Items.cs:line 937\n--- End of stack trace from previous location ---\n   at Honua.Server.Host.Ogc.OgcFeaturesHandlers.<>c__DisplayClass5_0.<<ApplyPaginationWindow>g__Window|0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeaturesHandlers.Items.cs:line 937\n--- End of stack trace from previous location ---\n   at Honua.Server.Host.Ogc.OgcFeaturesHandlers.<>c__DisplayClass5_0.<<ApplyPaginationWindow>g__Window|0>d.System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult(Int16 token)\n   at Honua.Server.Host.Ogc.OgcFeatureCollectionWriter.WriteFeatureCollectionAsync(Stream outputStream, IAsyncEnumerable`1 features, LayerDefinition layer, Nullable`1 numberMatched, Nullable`1 numberReturned, IReadOnlyList`1 links, String defaultStyle, IReadOnlyList`1 styleIds, Nullable`1 minScale, Nullable`1 maxScale, Int32 flushThresholdBytes, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeatureCollectionWriter.cs:line 101\n   at Honua.Server.Host.Ogc.OgcFeatureCollectionWriter.WriteFeatureCollectionAsync(Stream outputStream, IAsyncEnumerable`1 features, LayerDefinition layer, Nullable`1 numberMatched, Nullable`1 numberReturned, IReadOnlyList`1 links, String defaultStyle, IReadOnlyList`1 styleIds, Nullable`1 minScale, Nullable`1 maxScale, Int32 flushThresholdBytes, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeatureCollectionWriter.cs:line 101\n   at Honua.Server.Host.Ogc.OgcFeatureCollectionWriter.WriteFeatureCollectionAsync(Stream outputStream, IAsyncEnumerable`1 features, LayerDefinition layer, Nullable`1 numberMatched, Nullable`1 numberReturned, IReadOnlyList`1 links, String defaultStyle, IReadOnlyList`1 styleIds, Nullable`1 minScale, Nullable`1 maxScale, Int32 flushThresholdBytes, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeatureCollectionWriter.cs:line 154\n   at Honua.Server.Host.Ogc.OgcFeaturesHandlers.StreamingFeatureCollectionResult.ExecuteAsync(HttpContext httpContext) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeaturesHandlers.Items.cs:line 1003\n   at Honua.Server.Host.Ogc.CachedResult.ExecuteAsync(HttpContext httpContext) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/CachedResult.cs:line 53\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Honua.Server.Host.Middleware.SecurityPolicyMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityPolicyMiddleware.cs:line 90\n   at Honua.Server.Host.Middleware.CsrfValidationMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/CsrfValidationMiddleware.cs:line 68\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Observability.ApiMetricsMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Observability/ApiMetricsMiddleware.cs:line 87\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.<>c__DisplayClass11_0.<<InvokeAwaited>g__ExecuteResponseAsync|0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.OutputCaching.WorkDispatcher`2.ScheduleAsync(TKey key, Func`2 valueFactory)\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.InvokeAwaited(HttpContext httpContext, IReadOnlyList`1 policies)\n   at Honua.Server.Host.Middleware.DeprecationWarningMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/DeprecationWarningMiddleware.cs:line 134\n   at Honua.Server.Host.Middleware.ApiVersionMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/ApiVersionMiddleware.cs:line 110\n   at Honua.Server.Host.Extensions.WebApplicationExtensions.<>c.<<UseHonuaLocalization>b__12_0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Extensions/WebApplicationExtensions.cs:line 352\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Middleware.LegacyApiRedirectMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/LegacyApiRedirectMiddleware.cs:line 121\n   at Honua.Server.Host.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/RequestResponseLoggingMiddleware.cs:line 60\n   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)\n   at Honua.Server.Host.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityHeadersMiddleware.cs:line 51\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)'}
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items HTTP/1.1" 500 None
_________________________ TestHealth.test_health_ready _________________________
[gw9] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_smoke.py:129: in test_health_ready
    assert response.status_code == 200
E   assert 503 == 200
E    +  where 503 = <Response [503]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /health/ready HTTP/1.1" 503 None
____________________ test_wfs_get_feature_with_bbox_filter _____________________
[gw8] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_wfs_owslib.py:226: in test_wfs_get_feature_with_bbox_filter
    response = wfs_client.getfeature(
.venv/lib/python3.12/site-packages/owslib/feature/wfs200.py:287: in getfeature
    u = openURL(url, data, method, timeout=self.timeout, headers=self.headers, auth=self.auth)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
.venv/lib/python3.12/site-packages/owslib/util.py:214: in openURL
    req.raise_for_status()
.venv/lib/python3.12/site-packages/requests/models.py:1026: in raise_for_status
    raise HTTPError(http_error_msg, response=self)
E   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://localhost:5100/v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10

During handling of the above exception, another exception occurred:
test_wfs_owslib.py:239: in test_wfs_get_feature_with_bbox_filter
    pytest.fail(f"Bbox filtering failed: {e}")
E   Failed: Bbox filtering failed: 500 Server Error: Internal Server Error for url: http://localhost:5100/v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10
------------------------------ Captured log call -------------------------------
DEBUG    owslib.feature.wfs200:wfs200.py:270 GetFeature WFS GET url http://localhost:5100/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10
DEBUG    urllib3.connectionpool:connectionpool.py:241 Starting new HTTP connection (1): localhost:5100
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10 HTTP/1.1" 500 None
_______________________ test_items_with_limit_parameter ________________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:423: in test_items_with_limit_parameter
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?limit=5 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?limit=5 HTTP/1.1" 500 None
_________________________ test_items_with_bbox_filter __________________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:442: in test_items_with_bbox_filter
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?bbox=-180%2C-90%2C180%2C90&limit=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?bbox=-180%2C-90%2C180%2C90&limit=10 HTTP/1.1" 500 None
_____________________ test_wfs_getfeature_returns_geojson ______________________
[gw8] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_wfs_owslib.py:336: in test_wfs_getfeature_returns_geojson
    assert response.status_code == 200, response.text
E   AssertionError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.6.1","title":"Internal Server Error","status":500,"detail":"SQLite Error 14: 'unable to open database file'.","instance":"/v1/wfs","correlationId":"0HNGV0BFOTHVS:00000004","traceId":"0HNGV0BFOTHVS:00000004","timestamp":"2025-11-08T20:19:26.7584255+00:00","exceptionType":"Microsoft.Data.Sqlite.SqliteException","stackTrace":"   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)\n   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()\n   at Microsoft.Data.Sqlite.SqliteConnection.Open()\n   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)\n--- End of stack trace from previous location ---\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.<>c__DisplayClass16_0.<<CountAsync>b__0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 108\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 107\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 123\n   at Honua.Server.Core.Data.FeatureRepository.CountAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/FeatureRepository.cs:line 49\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.ExecuteFeatureQueryAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, CancellationToken cancellationToken, Boolean materializeResults) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 216\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.HandleGetFeatureAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 53\n   at Honua.Server.Host.Wfs.WfsHandlers.HandleAsync(HttpContext context, IMetadataRegistry metadataRegistry, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IWfsLockManager lockManager, IFeatureEditOrchestrator editOrchestrator, IResourceAuthorizationService authorizationService, ISecurityAuditLogger auditLogger, ILoggerFactory loggerFactory, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, IWfsSchemaCache schemaCache, IOptions`1 wfsOptions, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsHandlers.cs:line 96\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Honua.Server.Host.Middleware.SecurityPolicyMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityPolicyMiddleware.cs:line 90\n   at Honua.Server.Host.Middleware.CsrfValidationMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/CsrfValidationMiddleware.cs:line 68\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Observability.ApiMetricsMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Observability/ApiMetricsMiddleware.cs:line 87\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.<>c__DisplayClass11_0.<<InvokeAwaited>g__ExecuteResponseAsync|0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.OutputCaching.WorkDispatcher`2.ScheduleAsync(TKey key, Func`2 valueFactory)\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.InvokeAwaited(HttpContext httpContext, IReadOnlyList`1 policies)\n   at Honua.Server.Host.Middleware.DeprecationWarningMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/DeprecationWarningMiddleware.cs:line 134\n   at Honua.Server.Host.Middleware.ApiVersionMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/ApiVersionMiddleware.cs:line 110\n   at Honua.Server.Host.Extensions.WebApplicationExtensions.<>c.<<UseHonuaLocalization>b__12_0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Extensions/WebApplicationExtensions.cs:line 352\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Middleware.LegacyApiRedirectMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/LegacyApiRedirectMiddleware.cs:line 121\n   at Honua.Server.Host.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/RequestResponseLoggingMiddleware.cs:line 60\n   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)\n   at Honua.Server.Host.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityHeadersMiddleware.cs:line 51\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)"}
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /wfs?service=WFS&version=2.0.0&request=GetFeature&typeName=roads-primary&outputFormat=application%2Fjson&count=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typeName=roads-primary&outputFormat=application%2Fjson&count=10 HTTP/1.1" 500 None
_____________________ test_items_with_specific_bbox_filter _____________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:458: in test_items_with_specific_bbox_filter
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?bbox=-125.0%2C32.0%2C-114.0%2C42.0&limit=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?bbox=-125.0%2C32.0%2C-114.0%2C42.0&limit=10 HTTP/1.1" 500 None
_______________________ test_wfs_getfeature_returns_gml ________________________
[gw8] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_wfs_owslib.py:361: in test_wfs_getfeature_returns_gml
    assert response.status_code == 200, response.text
E   AssertionError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.6.1","title":"Internal Server Error","status":500,"detail":"SQLite Error 14: 'unable to open database file'.","instance":"/v1/wfs","correlationId":"0HNGV0BFOTHVS:00000006","traceId":"0HNGV0BFOTHVS:00000006","timestamp":"2025-11-08T20:19:28.7830928+00:00","exceptionType":"Microsoft.Data.Sqlite.SqliteException","stackTrace":"   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)\n   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()\n   at Microsoft.Data.Sqlite.SqliteConnection.Open()\n   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)\n--- End of stack trace from previous location ---\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.<>c__DisplayClass16_0.<<CountAsync>b__0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 108\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 107\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 123\n   at Honua.Server.Core.Data.FeatureRepository.CountAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/FeatureRepository.cs:line 49\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.ExecuteFeatureQueryAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, CancellationToken cancellationToken, Boolean materializeResults) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 216\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.HandleGetFeatureAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 53\n   at Honua.Server.Host.Wfs.WfsHandlers.HandleAsync(HttpContext context, IMetadataRegistry metadataRegistry, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IWfsLockManager lockManager, IFeatureEditOrchestrator editOrchestrator, IResourceAuthorizationService authorizationService, ISecurityAuditLogger auditLogger, ILoggerFactory loggerFactory, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, IWfsSchemaCache schemaCache, IOptions`1 wfsOptions, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsHandlers.cs:line 96\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Honua.Server.Host.Middleware.SecurityPolicyMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityPolicyMiddleware.cs:line 90\n   at Honua.Server.Host.Middleware.CsrfValidationMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/CsrfValidationMiddleware.cs:line 68\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Observability.ApiMetricsMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Observability/ApiMetricsMiddleware.cs:line 87\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.<>c__DisplayClass11_0.<<InvokeAwaited>g__ExecuteResponseAsync|0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.OutputCaching.WorkDispatcher`2.ScheduleAsync(TKey key, Func`2 valueFactory)\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.InvokeAwaited(HttpContext httpContext, IReadOnlyList`1 policies)\n   at Honua.Server.Host.Middleware.DeprecationWarningMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/DeprecationWarningMiddleware.cs:line 134\n   at Honua.Server.Host.Middleware.ApiVersionMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/ApiVersionMiddleware.cs:line 110\n   at Honua.Server.Host.Extensions.WebApplicationExtensions.<>c.<<UseHonuaLocalization>b__12_0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Extensions/WebApplicationExtensions.cs:line 352\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Middleware.LegacyApiRedirectMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/LegacyApiRedirectMiddleware.cs:line 121\n   at Honua.Server.Host.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/RequestResponseLoggingMiddleware.cs:line 60\n   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)\n   at Honua.Server.Host.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityHeadersMiddleware.cs:line 51\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)"}
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /wfs?service=WFS&version=2.0.0&request=GetFeature&typeName=roads-primary&outputFormat=application%2Fgml%2Bxml&count=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typeName=roads-primary&outputFormat=application%2Fgml%2Bxml&count=10 HTTP/1.1" 500 None
_______________________ test_items_with_datetime_filter ________________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:491: in test_items_with_datetime_filter
    assert response.status_code in [200, 400], \
E   AssertionError: Expected 200 or 400, got 500
E   assert 500 in [200, 400]
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?datetime=2020-01-01T00%3A00%3A00Z%2F2025-12-31T23%3A59%3A59Z&limit=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?datetime=2020-01-01T00%3A00%3A00Z%2F2025-12-31T23%3A59%3A59Z&limit=10 HTTP/1.1" 500 None
________________________ test_wfs_supports_bbox_filter _________________________
[gw8] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_wfs_owslib.py:387: in test_wfs_supports_bbox_filter
    assert response.status_code == 200, response.text
E   AssertionError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.6.1","title":"Internal Server Error","status":500,"detail":"SQLite Error 14: 'unable to open database file'.","instance":"/v1/wfs","correlationId":"0HNGV0BFOTHVS:00000008","traceId":"0HNGV0BFOTHVS:00000008","timestamp":"2025-11-08T20:19:31.3334545+00:00","exceptionType":"Microsoft.Data.Sqlite.SqliteException","stackTrace":"   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)\n   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()\n   at Microsoft.Data.Sqlite.SqliteConnection.Open()\n   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)\n--- End of stack trace from previous location ---\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.<>c__DisplayClass16_0.<<CountAsync>b__0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 108\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 107\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 123\n   at Honua.Server.Core.Data.FeatureRepository.CountAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/FeatureRepository.cs:line 49\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.ExecuteFeatureQueryAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, CancellationToken cancellationToken, Boolean materializeResults) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 216\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.HandleGetFeatureAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 53\n   at Honua.Server.Host.Wfs.WfsHandlers.HandleAsync(HttpContext context, IMetadataRegistry metadataRegistry, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IWfsLockManager lockManager, IFeatureEditOrchestrator editOrchestrator, IResourceAuthorizationService authorizationService, ISecurityAuditLogger auditLogger, ILoggerFactory loggerFactory, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, IWfsSchemaCache schemaCache, IOptions`1 wfsOptions, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsHandlers.cs:line 96\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Honua.Server.Host.Middleware.SecurityPolicyMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityPolicyMiddleware.cs:line 90\n   at Honua.Server.Host.Middleware.CsrfValidationMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/CsrfValidationMiddleware.cs:line 68\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Observability.ApiMetricsMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Observability/ApiMetricsMiddleware.cs:line 87\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.<>c__DisplayClass11_0.<<InvokeAwaited>g__ExecuteResponseAsync|0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.OutputCaching.WorkDispatcher`2.ScheduleAsync(TKey key, Func`2 valueFactory)\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.InvokeAwaited(HttpContext httpContext, IReadOnlyList`1 policies)\n   at Honua.Server.Host.Middleware.DeprecationWarningMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/DeprecationWarningMiddleware.cs:line 134\n   at Honua.Server.Host.Middleware.ApiVersionMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/ApiVersionMiddleware.cs:line 110\n   at Honua.Server.Host.Extensions.WebApplicationExtensions.<>c.<<UseHonuaLocalization>b__12_0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Extensions/WebApplicationExtensions.cs:line 352\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Middleware.LegacyApiRedirectMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/LegacyApiRedirectMiddleware.cs:line 121\n   at Honua.Server.Host.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/RequestResponseLoggingMiddleware.cs:line 60\n   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)\n   at Honua.Server.Host.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityHeadersMiddleware.cs:line 51\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)"}
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /wfs?service=WFS&version=2.0.0&request=GetFeature&typeName=roads-primary&outputFormat=application%2Fjson&bbox=-123%2C45%2C-122%2C46&count=5 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typeName=roads-primary&outputFormat=application%2Fjson&bbox=-123%2C45%2C-122%2C46&count=5 HTTP/1.1" 500 None
___________________ test_items_with_datetime_single_instant ____________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:510: in test_items_with_datetime_single_instant
    assert response.status_code in [200, 400]
E   assert 500 in [200, 400]
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?datetime=2024-01-01T00%3A00%3A00Z&limit=5 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?datetime=2024-01-01T00%3A00%3A00Z&limit=5 HTTP/1.1" 500 None
_____________________ test_items_with_open_ended_datetime ______________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:528: in test_items_with_open_ended_datetime
    assert response.status_code in [200, 400]
E   assert 500 in [200, 400]
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?datetime=2023-01-01T00%3A00%3A00Z%2F..&limit=5 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?datetime=2023-01-01T00%3A00%3A00Z%2F..&limit=5 HTTP/1.1" 500 None
_______________________ test_items_with_combined_filters _______________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:550: in test_items_with_combined_filters
    assert response.status_code in [200, 400]
E   assert 500 in [200, 400]
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?bbox=-125.0%2C32.0%2C-114.0%2C42.0&datetime=2020-01-01T00%3A00%3A00Z%2F2025-12-31T23%3A59%3A59Z&limit=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?bbox=-125.0%2C32.0%2C-114.0%2C42.0&datetime=2020-01-01T00%3A00%3A00Z%2F2025-12-31T23%3A59%3A59Z&limit=10 HTTP/1.1" 500 None
_________________ test_items_pagination_with_limit_and_offset __________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:574: in test_items_pagination_with_limit_and_offset
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?limit=3&offset=0 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?limit=3&offset=0 HTTP/1.1" 500 None
_______________________ test_items_next_link_pagination ________________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:612: in test_items_next_link_pagination
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?limit=5 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?limit=5 HTTP/1.1" 500 None
_________________________ test_items_self_link_present _________________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:633: in test_items_self_link_present
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items HTTP/1.1" 500 None
_________________ test_get_single_item_returns_geojson_feature _________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:656: in test_get_single_item_returns_geojson_feature
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?limit=1 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?limit=1 HTTP/1.1" 500 None
____________________ test_get_nonexistent_item_returns_404 _____________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:717: in test_get_nonexistent_item_returns_404
    assert response.status_code == 404, \
E   AssertionError: Expected 404 for non-existent item, got 500
E   assert 500 == 404
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items/nonexistent-item-12345 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items/nonexistent-item-12345 HTTP/1.1" 500 None
________________________ test_items_with_crs_parameter _________________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:777: in test_items_with_crs_parameter
    assert response.status_code in [200, 400], \
E   AssertionError: Expected 200 or 400, got 500
E   assert 500 in [200, 400]
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?crs=http%3A%2F%2Fwww.opengis.net%2Fdef%2Fcrs%2FEPSG%2F0%2F3857&limit=5 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?crs=http%3A%2F%2Fwww.opengis.net%2Fdef%2Fcrs%2FEPSG%2F0%2F3857&limit=5 HTTP/1.1" 500 None
_______________________ test_items_default_crs_is_wgs84 ________________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:793: in test_items_default_crs_is_wgs84
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?limit=1 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?limit=1 HTTP/1.1" 500 None
_________________ test_items_geojson_format_via_accept_header __________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:823: in test_items_geojson_format_via_accept_header
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?limit=5 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?limit=5 HTTP/1.1" 500 None
___________________ test_items_json_format_via_accept_header ___________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:842: in test_items_json_format_via_accept_header
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?limit=5 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?limit=5 HTTP/1.1" 500 None
______________________ test_items_format_via_f_parameter _______________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:859: in test_items_format_via_f_parameter
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?f=json&limit=5 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?f=json&limit=5 HTTP/1.1" 500 None
_______________________ test_search_get_returns_features _______________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:878: in test_search_get_returns_features
    assert response.status_code in [200, 404], \
E   AssertionError: Expected 200 or 404, got 400
E   assert 400 in [200, 404]
E    +  where 400 = <Response [400]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/search?limit=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/search?limit=10 HTTP/1.1" 400 None
______________________ test_search_post_returns_features _______________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:899: in test_search_post_returns_features
    assert response.status_code in [200, 404], \
E   AssertionError: Expected 200 or 404, got 403
E   assert 403 in [200, 404]
E    +  where 403 = <Response [403]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /ogc/search HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "POST /v1/ogc/search HTTP/1.1" 403 None
_____________________ test_search_with_collections_filter ______________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:921: in test_search_with_collections_filter
    assert response.status_code == 200
E   assert 400 == 200
E    +  where 400 = <Response [400]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/search?collections=roads%3A%3Aroads-primary&limit=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/search?collections=roads%3A%3Aroads-primary&limit=10 HTTP/1.1" 400 None
_________________________ test_search_with_bbox_filter _________________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:949: in test_search_with_bbox_filter
    assert response.status_code == 200
E   assert 400 == 200
E    +  where 400 = <Response [400]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/search?bbox=-125.0%2C32.0%2C-114.0%2C42.0&limit=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/search?bbox=-125.0%2C32.0%2C-114.0%2C42.0&limit=10 HTTP/1.1" 400 None
________________________ test_excessive_limit_is_capped ________________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:1071: in test_excessive_limit_is_capped
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?limit=999999 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?limit=999999 HTTP/1.1" 500 None
______________________ test_items_include_numberreturned _______________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:1092: in test_items_include_numberreturned
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?limit=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?limit=10 HTTP/1.1" 500 None
_______________________ test_items_include_numbermatched _______________________
[gw0] linux -- Python 3.12.3 /home/mike/projects/Honua.Server/tests/python/.venv/bin/python3
test_ogc_features_requests.py:1113: in test_items_include_numbermatched
    assert response.status_code == 200
E   assert 500 == 200
E    +  where 500 = <Response [500]>.status_code
------------------------------ Captured log call -------------------------------
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /ogc/collections/roads::roads-primary/items?limit=10 HTTP/1.1" 308 None
DEBUG    urllib3.connectionpool:connectionpool.py:544 http://localhost:5100 "GET /v1/ogc/collections/roads::roads-primary/items?limit=10 HTTP/1.1" 500 None
============================= slowest 10 durations =============================
2.87s call     test_ogc_features_requests.py::test_items_with_limit_parameter
2.85s call     test_wfs_owslib.py::test_wfs_get_feature_with_bbox_filter
2.77s call     test_wfs_owslib.py::test_wfs_getfeature_returns_geojson
2.75s call     test_ogc_features_requests.py::test_items_json_format_via_accept_header
2.68s call     test_wms_owslib.py::test_wms_get_feature_info_basic
2.55s call     test_ogc_features_requests.py::test_items_default_crs_is_wgs84
2.51s call     test_wfs_owslib.py::test_wfs_supports_bbox_filter
2.50s call     test_smoke.py::TestHealth::test_health_ready
2.49s call     test_ogc_features_requests.py::test_items_with_open_ended_datetime
2.30s call     test_ogc_features_requests.py::test_items_self_link_present
=========================== short test summary info ============================
SKIPPED [1] test_ogc_processes_requests.py:211: OGC API - Processes not available
SKIPPED [1] test_ogc_processes_requests.py:221: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:227: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:236: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:244: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:255: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:274: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:286: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:291: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:297: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:309: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:321: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:331: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:376: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:396: OGC API - Processes not available in test environment
SKIPPED [1] test_stac_smoke.py:71: COG asset is not accessible over HTTP(S): file:///tmp/placeholder.tif
SKIPPED [1] test_ogc_processes_requests.py:414: OGC API - Processes not available in test environment
SKIPPED [1] test_wfs_owslib.py:161: DescribeFeatureType not fully supported: Feature type should have at least one property
assert 0 > 0
 +  where 0 = len({})
SKIPPED [1] test_ogc_processes_requests.py:461: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:479: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:502: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:522: OGC API - Processes not available in test environment
SKIPPED [1] test_csw_owslib.py:209: DescribeRecord not fully supported: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_ogc_processes_requests.py:558: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:586: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:613: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:646: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:689: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:716: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:777: OGC API - Processes not available in test environment
SKIPPED [1] test_csw_owslib.py:226: DescribeRecord for Dublin Core not supported: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_wms_owslib.py:294: Layer roads:elevation does not support EPSG:3857
SKIPPED [1] test_ogc_processes_requests.py:812: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:867: Job list endpoint not available
SKIPPED [1] test_ogc_processes_requests.py:883: Job list endpoint not available
SKIPPED [1] test_ogc_processes_requests.py:897: Job list endpoint not available
SKIPPED [1] test_ogc_processes_requests.py:921: Job list endpoint not available
SKIPPED [1] test_ogc_processes_requests.py:930: OGC API - Processes not available in test environment
SKIPPED [1] test_wmts_owslib.py:545: Layer does not support JPEG format
SKIPPED [1] test_wmts_owslib.py:572: Layer has only one style
SKIPPED [1] test_ogc_processes_requests.py:984: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:1003: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:1044: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:1074: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:1093: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:1107: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:1167: Processes API not available
SKIPPED [1] test_ogc_processes_requests.py:1175: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:1189: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:1207: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:1228: OGC API - Processes not available in test environment
SKIPPED [1] test_ogc_processes_requests.py:1249: OGC API - Processes not available in test environment
SKIPPED [1] test_csw_owslib.py:301: Pagination not fully supported: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:321: ResultType=hits not supported: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:385: Text search not fully supported: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:414: Bbox filtering not fully supported: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:442: Property filtering not fully supported: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:471: Combined filtering not fully supported: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:516: ISO 19139 schema not supported: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:539: Schema validation test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:546: Could not retrieve test records: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:593: GetRecordById with multiple IDs not supported: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:596: Could not retrieve test records: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:616: Could not retrieve test records: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:756: Bounding box test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_wcs_rasterio.py:690: No authentication token provided
SKIPPED [1] test_wcs_rasterio.py:778: OGC API - Coverages not yet implemented (future enhancement)
SKIPPED [1] test_csw_owslib.py:962: Performance test not applicable: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:987: XML validation test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_csw_owslib.py:1009: Unicode test not applicable: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
SKIPPED [1] test_wfs_owslib.py:217: Feature counting not supported: 500 Server Error: Internal Server Error for url: http://localhost:5100/v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=5
SKIPPED [1] test_wfs_owslib.py:269: GeoJSON format not supported: 500 Server Error: Internal Server Error for url: http://localhost:5100/v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=5&outputFormat=application%2Fjson
SKIPPED [1] test_ogc_features_requests.py:691: No features available
ERROR test_stac_pystac.py::test_search_with_query_parameter - FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
ERROR test_stac_pystac.py::test_search_with_collections_filter - FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
ERROR test_stac_pystac.py::test_search_within_collection_items - FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
ERROR test_stac_pystac.py::test_search_with_multiple_filters - FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
ERROR test_stac_pystac.py::test_collection_has_extent - FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
ERROR test_stac_pystac.py::test_collection_has_license - FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
FAILED test_wfs_owslib.py::test_wfs_feature_type_has_crs - AttributeError: 'Crs' object has no attribute 'upper'
FAILED test_wfs_owslib.py::test_wfs_feature_type_has_bounding_box - AssertionError: Bounding box should not be None
assert None is not None
FAILED test_ogc_processes_requests.py::test_execute_nonexistent_process_returns_404 - AssertionError: Expected 404 for non-existent process, got 403
assert 403 == 404
 +  where 403 = <Response [403]>.status_code
FAILED test_csw_owslib.py::test_csw_supported_output_schemas - TypeError: string indices must be integers, not 'str'
FAILED test_ogc_processes_requests.py::test_dismiss_nonexistent_job_returns_404 - AssertionError: Expected 404 for non-existent job, got 403
assert 403 == 404
 +  where 403 = <Response [403]>.status_code
FAILED test_csw_owslib.py::test_csw_get_records_basic - Failed: GetRecords failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
FAILED test_stac_pystac.py::test_stac_catalog_has_conformance - AttributeError: 'Client' object has no attribute 'conformance'. Did you mean: 'conforms_to'?
FAILED test_stac_pystac.py::test_stac_catalog_lists_collections - FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
FAILED test_csw_owslib.py::test_csw_get_records_count - Failed: GetRecords with maxrecords failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
FAILED test_wcs_rasterio.py::test_wcs_open_coverage_via_gdal - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_stac_pystac.py::test_search_with_bbox - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000004"}
FAILED test_wcs_rasterio.py::test_wcs_open_coverage_via_xml_descriptor - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_csw_owslib.py::test_csw_get_records_validates_total_count - Failed: GetRecords count validation failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
FAILED test_wcs_rasterio.py::test_wcs_read_coverage_metadata - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_wcs_rasterio.py::test_wcs_read_coverage_crs - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_wcs_rasterio.py::test_wcs_read_coverage_transform - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_wcs_rasterio.py::test_wcs_read_coverage_bounds - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_ogc_tiles_requests.py::test_unsupported_format_returns_error - AssertionError: Unsupported format should return 400/406/415, got 200
assert 200 in (400, 406, 415)
 +  where 200 = <Response [200]>.status_code
FAILED test_wcs_rasterio.py::test_wcs_read_coverage_resolution - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_csw_owslib.py::test_csw_get_records_dublin_core_schema - Failed: Dublin Core schema test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
FAILED test_stac_pystac.py::test_search_with_specific_bbox - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000006"}
FAILED test_stac_pystac.py::test_search_with_intersects_geometry - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000008"}
FAILED test_wcs_rasterio.py::test_wcs_read_coverage_data_full - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_stac_pystac.py::test_search_with_intersects_geojson - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000000A"}
FAILED test_wcs_rasterio.py::test_wcs_read_coverage_data_windowed - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_wcs_rasterio.py::test_wcs_read_coverage_data_downsampled - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_stac_pystac.py::test_search_with_datetime_single - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000000C"}
FAILED test_wcs_rasterio.py::test_wcs_read_coverage_data_with_resampling - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_csw_owslib.py::test_csw_record_has_identifier - Failed: Record identifier test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
FAILED test_stac_pystac.py::test_search_with_datetime_range - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000000E"}
FAILED test_wcs_rasterio.py::test_wcs_read_band_metadata - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_wcs_rasterio.py::test_wcs_read_multiband_coverage - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_stac_pystac.py::test_search_with_open_ended_datetime - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000010"}
FAILED test_csw_owslib.py::test_csw_record_has_title - Failed: Record title test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
FAILED test_wcs_rasterio.py::test_wcs_coverage_data_type_preserved - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_csw_owslib.py::test_csw_record_has_type - Failed: Record type test failed: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
FAILED test_stac_pystac.py::test_search_with_datetime_validates_items - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000012"}
FAILED test_wcs_rasterio.py::test_wcs_coverage_crs_transformation - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_wcs_rasterio.py::test_wcs_malformed_url_raises_error - Failed: DID NOT RAISE <class 'rasterio.errors.RasterioIOError'>
FAILED test_wcs_rasterio.py::test_wcs_gdal_config_options - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_stac_pystac.py::test_search_with_multiple_collections - FileNotFoundError: [Errno 2] No such file or directory: 'file:///stac/collections'
FAILED test_csw_owslib.py::test_csw_invalid_filter_raises_error - AssertionError: Error should mention invalid filter: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
assert ('property' in "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" or 'filter' in "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" or 'constraint' in "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)")
 +  where "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = <built-in method lower of str object at 0x7fdda2bc8c70>()
 +    where <built-in method lower of str object at 0x7fdda2bc8c70> = "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)".lower
 +      where "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = str(XMLSyntaxError("Start tag expected, '<' not found, line 1, column 1"))
 +  and   "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = <built-in method lower of str object at 0x7fdda2c07440>()
 +    where <built-in method lower of str object at 0x7fdda2c07440> = "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)".lower
 +      where "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = str(XMLSyntaxError("Start tag expected, '<' not found, line 1, column 1"))
 +  and   "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = <built-in method lower of str object at 0x7fdda2c07ad0>()
 +    where <built-in method lower of str object at 0x7fdda2c07ad0> = "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)".lower
 +      where "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = str(XMLSyntaxError("Start tag expected, '<' not found, line 1, column 1"))
FAILED test_wcs_rasterio.py::test_wcs_large_coverage_streaming - rasterio.errors.RasterioIOError: NoApplicableCode: Coverage file not found.
FAILED test_csw_owslib.py::test_csw_invalid_output_schema_handling - AssertionError: Error should mention invalid schema: Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)
assert ('schema' in "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" or 'format' in "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)")
 +  where "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = <built-in method lower of str object at 0x7fdda36dac60>()
 +    where <built-in method lower of str object at 0x7fdda36dac60> = "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)".lower
 +      where "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = str(XMLSyntaxError("Start tag expected, '<' not found, line 1, column 1"))
 +  and   "start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = <built-in method lower of str object at 0x7fdda2c07ec0>()
 +    where <built-in method lower of str object at 0x7fdda2c07ec0> = "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)".lower
 +      where "Start tag expected, '<' not found, line 1, column 1 (<string>, line 1)" = str(XMLSyntaxError("Start tag expected, '<' not found, line 1, column 1"))
FAILED test_stac_pystac.py::test_iterate_through_paged_results - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000014"}
FAILED test_stac_pystac.py::test_item_collection_returns_all_pages - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000016"}
FAILED test_stac_pystac.py::test_pagination_with_limit - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000018"}
FAILED test_stac_pystac.py::test_download_item_asset_metadata - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000001A"}
FAILED test_stac_pystac.py::test_download_asset_with_requests - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000001C"}
FAILED test_stac_pystac.py::test_cog_asset_is_geotiff - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000001E"}
FAILED test_stac_pystac.py::test_validate_stac_item_schema - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000020"}
FAILED test_stac_pystac.py::test_validate_item_has_required_fields - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000022"}
FAILED test_stac_pystac.py::test_validate_item_geometry_is_geojson - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000024"}
FAILED test_stac_pystac.py::test_search_with_spatial_and_temporal_filters - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:00000028"}
FAILED test_stac_pystac.py::test_search_matches_returned_count - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000002A"}
FAILED test_stac_pystac.py::test_item_has_links - pystac_client.exceptions.APIError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.5.3","title":"CSRF Token Validation Failed","status":403,"detail":"The CSRF token is missing, invalid, or expired. Please refresh the page and try again.","instance":"/v1/stac/search","traceId":"0HNGV0BFOTHTD:0000002C"}
FAILED test_ogc_features_requests.py::test_get_collection_items_returns_geojson - AssertionError: Expected 200, got 500
assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_wfs_owslib.py::test_wfs_get_feature_basic - Failed: GetFeature failed: 500 Server Error: Internal Server Error for url: http://localhost:5100/v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10
FAILED test_wms_owslib.py::test_wms_get_feature_info_basic - requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://localhost:5100/v1/wms?service=WMS&version=1.3.0&request=GetFeatureInfo&layers=roads%3Aelevation&styles=&width=256&height=256&crs=EPSG%3A4326&bbox=45.5%2C-122.6%2C45.7%2C-122.3&format=None&transparent=FALSE&exceptions=XML&bgcolor=0xFFFFFF&query_layers=roads%3Aelevation&i=128&j=128&info_format=application%2Fjson&feature_count=20
FAILED test_ogc_features_requests.py::test_collection_items_include_links - AssertionError: Items response must include links
assert 'links' in {'type': 'https://tools.ietf.org/html/rfc7231#section-6.6.1', 'title': 'Internal Server Error', 'status': 500, 'detail': "SQLite Error 14: 'unable to open database file'.", 'instance': '/v1/ogc/collections/roads::roads-primary/items', 'correlationId': '0HNGV0BFOTHSH:0000001C', 'traceId': '0HNGV0BFOTHSH:0000001C', 'timestamp': '2025-11-08T20:19:18.2716669+00:00', 'exceptionType': 'Microsoft.Data.Sqlite.SqliteException', 'stackTrace': '   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)\n   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()\n   at Microsoft.Data.Sqlite.SqliteConnection.Open()\n   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)\n--- End of stack trace from previous location ---\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.<>c__DisplayClass15_0.<<QueryAsync>b__0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 74\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.QueryAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken)+MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 73\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.QueryAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken)+MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 85\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.QueryAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()\n   at Honua.Server.Core.Data.FeatureRepository.QueryInternalAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken)+MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/FeatureRepository.cs:line 106\n   at Honua.Server.Core.Data.FeatureRepository.QueryInternalAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken)+MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/FeatureRepository.cs:line 106\n   at Honua.Server.Core.Data.FeatureRepository.QueryInternalAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken)+System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult()\n   at Honua.Server.Host.Ogc.OgcFeaturesHandlers.<>c__DisplayClass5_0.<<ApplyPaginationWindow>g__Window|0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeaturesHandlers.Items.cs:line 937\n--- End of stack trace from previous location ---\n   at Honua.Server.Host.Ogc.OgcFeaturesHandlers.<>c__DisplayClass5_0.<<ApplyPaginationWindow>g__Window|0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeaturesHandlers.Items.cs:line 937\n--- End of stack trace from previous location ---\n   at Honua.Server.Host.Ogc.OgcFeaturesHandlers.<>c__DisplayClass5_0.<<ApplyPaginationWindow>g__Window|0>d.System.Threading.Tasks.Sources.IValueTaskSource<System.Boolean>.GetResult(Int16 token)\n   at Honua.Server.Host.Ogc.OgcFeatureCollectionWriter.WriteFeatureCollectionAsync(Stream outputStream, IAsyncEnumerable`1 features, LayerDefinition layer, Nullable`1 numberMatched, Nullable`1 numberReturned, IReadOnlyList`1 links, String defaultStyle, IReadOnlyList`1 styleIds, Nullable`1 minScale, Nullable`1 maxScale, Int32 flushThresholdBytes, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeatureCollectionWriter.cs:line 101\n   at Honua.Server.Host.Ogc.OgcFeatureCollectionWriter.WriteFeatureCollectionAsync(Stream outputStream, IAsyncEnumerable`1 features, LayerDefinition layer, Nullable`1 numberMatched, Nullable`1 numberReturned, IReadOnlyList`1 links, String defaultStyle, IReadOnlyList`1 styleIds, Nullable`1 minScale, Nullable`1 maxScale, Int32 flushThresholdBytes, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeatureCollectionWriter.cs:line 101\n   at Honua.Server.Host.Ogc.OgcFeatureCollectionWriter.WriteFeatureCollectionAsync(Stream outputStream, IAsyncEnumerable`1 features, LayerDefinition layer, Nullable`1 numberMatched, Nullable`1 numberReturned, IReadOnlyList`1 links, String defaultStyle, IReadOnlyList`1 styleIds, Nullable`1 minScale, Nullable`1 maxScale, Int32 flushThresholdBytes, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeatureCollectionWriter.cs:line 154\n   at Honua.Server.Host.Ogc.OgcFeaturesHandlers.StreamingFeatureCollectionResult.ExecuteAsync(HttpContext httpContext) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/OgcFeaturesHandlers.Items.cs:line 1003\n   at Honua.Server.Host.Ogc.CachedResult.ExecuteAsync(HttpContext httpContext) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Ogc/CachedResult.cs:line 53\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Honua.Server.Host.Middleware.SecurityPolicyMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityPolicyMiddleware.cs:line 90\n   at Honua.Server.Host.Middleware.CsrfValidationMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/CsrfValidationMiddleware.cs:line 68\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Observability.ApiMetricsMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Observability/ApiMetricsMiddleware.cs:line 87\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.<>c__DisplayClass11_0.<<InvokeAwaited>g__ExecuteResponseAsync|0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.OutputCaching.WorkDispatcher`2.ScheduleAsync(TKey key, Func`2 valueFactory)\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.InvokeAwaited(HttpContext httpContext, IReadOnlyList`1 policies)\n   at Honua.Server.Host.Middleware.DeprecationWarningMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/DeprecationWarningMiddleware.cs:line 134\n   at Honua.Server.Host.Middleware.ApiVersionMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/ApiVersionMiddleware.cs:line 110\n   at Honua.Server.Host.Extensions.WebApplicationExtensions.<>c.<<UseHonuaLocalization>b__12_0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Extensions/WebApplicationExtensions.cs:line 352\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Middleware.LegacyApiRedirectMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/LegacyApiRedirectMiddleware.cs:line 121\n   at Honua.Server.Host.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/RequestResponseLoggingMiddleware.cs:line 60\n   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)\n   at Honua.Server.Host.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityHeadersMiddleware.cs:line 51\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)'}
FAILED test_smoke.py::TestHealth::test_health_ready - assert 503 == 200
 +  where 503 = <Response [503]>.status_code
FAILED test_wfs_owslib.py::test_wfs_get_feature_with_bbox_filter - Failed: Bbox filtering failed: 500 Server Error: Internal Server Error for url: http://localhost:5100/v1/wfs?service=WFS&version=2.0.0&request=GetFeature&typenames=roads%3Aroads-primary&count=10
FAILED test_ogc_features_requests.py::test_items_with_limit_parameter - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_with_bbox_filter - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_wfs_owslib.py::test_wfs_getfeature_returns_geojson - AssertionError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.6.1","title":"Internal Server Error","status":500,"detail":"SQLite Error 14: 'unable to open database file'.","instance":"/v1/wfs","correlationId":"0HNGV0BFOTHVS:00000004","traceId":"0HNGV0BFOTHVS:00000004","timestamp":"2025-11-08T20:19:26.7584255+00:00","exceptionType":"Microsoft.Data.Sqlite.SqliteException","stackTrace":"   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)\n   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()\n   at Microsoft.Data.Sqlite.SqliteConnection.Open()\n   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)\n--- End of stack trace from previous location ---\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.<>c__DisplayClass16_0.<<CountAsync>b__0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 108\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 107\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 123\n   at Honua.Server.Core.Data.FeatureRepository.CountAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/FeatureRepository.cs:line 49\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.ExecuteFeatureQueryAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, CancellationToken cancellationToken, Boolean materializeResults) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 216\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.HandleGetFeatureAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 53\n   at Honua.Server.Host.Wfs.WfsHandlers.HandleAsync(HttpContext context, IMetadataRegistry metadataRegistry, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IWfsLockManager lockManager, IFeatureEditOrchestrator editOrchestrator, IResourceAuthorizationService authorizationService, ISecurityAuditLogger auditLogger, ILoggerFactory loggerFactory, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, IWfsSchemaCache schemaCache, IOptions`1 wfsOptions, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsHandlers.cs:line 96\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Honua.Server.Host.Middleware.SecurityPolicyMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityPolicyMiddleware.cs:line 90\n   at Honua.Server.Host.Middleware.CsrfValidationMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/CsrfValidationMiddleware.cs:line 68\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Observability.ApiMetricsMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Observability/ApiMetricsMiddleware.cs:line 87\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.<>c__DisplayClass11_0.<<InvokeAwaited>g__ExecuteResponseAsync|0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.OutputCaching.WorkDispatcher`2.ScheduleAsync(TKey key, Func`2 valueFactory)\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.InvokeAwaited(HttpContext httpContext, IReadOnlyList`1 policies)\n   at Honua.Server.Host.Middleware.DeprecationWarningMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/DeprecationWarningMiddleware.cs:line 134\n   at Honua.Server.Host.Middleware.ApiVersionMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/ApiVersionMiddleware.cs:line 110\n   at Honua.Server.Host.Extensions.WebApplicationExtensions.<>c.<<UseHonuaLocalization>b__12_0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Extensions/WebApplicationExtensions.cs:line 352\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Middleware.LegacyApiRedirectMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/LegacyApiRedirectMiddleware.cs:line 121\n   at Honua.Server.Host.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/RequestResponseLoggingMiddleware.cs:line 60\n   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)\n   at Honua.Server.Host.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityHeadersMiddleware.cs:line 51\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)"}
assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_with_specific_bbox_filter - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_wfs_owslib.py::test_wfs_getfeature_returns_gml - AssertionError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.6.1","title":"Internal Server Error","status":500,"detail":"SQLite Error 14: 'unable to open database file'.","instance":"/v1/wfs","correlationId":"0HNGV0BFOTHVS:00000006","traceId":"0HNGV0BFOTHVS:00000006","timestamp":"2025-11-08T20:19:28.7830928+00:00","exceptionType":"Microsoft.Data.Sqlite.SqliteException","stackTrace":"   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)\n   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()\n   at Microsoft.Data.Sqlite.SqliteConnection.Open()\n   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)\n--- End of stack trace from previous location ---\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.<>c__DisplayClass16_0.<<CountAsync>b__0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 108\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 107\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 123\n   at Honua.Server.Core.Data.FeatureRepository.CountAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/FeatureRepository.cs:line 49\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.ExecuteFeatureQueryAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, CancellationToken cancellationToken, Boolean materializeResults) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 216\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.HandleGetFeatureAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 53\n   at Honua.Server.Host.Wfs.WfsHandlers.HandleAsync(HttpContext context, IMetadataRegistry metadataRegistry, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IWfsLockManager lockManager, IFeatureEditOrchestrator editOrchestrator, IResourceAuthorizationService authorizationService, ISecurityAuditLogger auditLogger, ILoggerFactory loggerFactory, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, IWfsSchemaCache schemaCache, IOptions`1 wfsOptions, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsHandlers.cs:line 96\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Honua.Server.Host.Middleware.SecurityPolicyMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityPolicyMiddleware.cs:line 90\n   at Honua.Server.Host.Middleware.CsrfValidationMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/CsrfValidationMiddleware.cs:line 68\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Observability.ApiMetricsMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Observability/ApiMetricsMiddleware.cs:line 87\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.<>c__DisplayClass11_0.<<InvokeAwaited>g__ExecuteResponseAsync|0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.OutputCaching.WorkDispatcher`2.ScheduleAsync(TKey key, Func`2 valueFactory)\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.InvokeAwaited(HttpContext httpContext, IReadOnlyList`1 policies)\n   at Honua.Server.Host.Middleware.DeprecationWarningMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/DeprecationWarningMiddleware.cs:line 134\n   at Honua.Server.Host.Middleware.ApiVersionMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/ApiVersionMiddleware.cs:line 110\n   at Honua.Server.Host.Extensions.WebApplicationExtensions.<>c.<<UseHonuaLocalization>b__12_0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Extensions/WebApplicationExtensions.cs:line 352\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Middleware.LegacyApiRedirectMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/LegacyApiRedirectMiddleware.cs:line 121\n   at Honua.Server.Host.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/RequestResponseLoggingMiddleware.cs:line 60\n   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)\n   at Honua.Server.Host.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityHeadersMiddleware.cs:line 51\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)"}
assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_with_datetime_filter - AssertionError: Expected 200 or 400, got 500
assert 500 in [200, 400]
 +  where 500 = <Response [500]>.status_code
FAILED test_wfs_owslib.py::test_wfs_supports_bbox_filter - AssertionError: {"type":"https://tools.ietf.org/html/rfc7231#section-6.6.1","title":"Internal Server Error","status":500,"detail":"SQLite Error 14: 'unable to open database file'.","instance":"/v1/wfs","correlationId":"0HNGV0BFOTHVS:00000008","traceId":"0HNGV0BFOTHVS:00000008","timestamp":"2025-11-08T20:19:31.3334545+00:00","exceptionType":"Microsoft.Data.Sqlite.SqliteException","stackTrace":"   at Microsoft.Data.Sqlite.SqliteConnectionInternal..ctor(SqliteConnectionStringBuilder connectionOptions, SqliteConnectionPool pool)\n   at Microsoft.Data.Sqlite.SqliteConnectionPool.GetConnection()\n   at Microsoft.Data.Sqlite.SqliteConnection.Open()\n   at System.Data.Common.DbConnection.OpenAsync(CancellationToken cancellationToken)\n--- End of stack trace from previous location ---\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.<>c__DisplayClass16_0.<<CountAsync>b__0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 108\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.<>c.<<ExecuteAsync>b__3_0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Polly.ResiliencePipeline.ExecuteAsync(Func`2 callback, CancellationToken cancellationToken)\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 107\n   at Honua.Server.Core.Data.Sqlite.SqliteDataStoreProvider.CountAsync(DataSourceDefinition dataSource, ServiceDefinition service, LayerDefinition layer, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/Sqlite/SqliteDataStoreProvider.cs:line 123\n   at Honua.Server.Core.Data.FeatureRepository.CountAsync(String serviceId, String layerId, FeatureQuery query, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Core/Data/FeatureRepository.cs:line 49\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.ExecuteFeatureQueryAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, CancellationToken cancellationToken, Boolean materializeResults) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 216\n   at Honua.Server.Host.Wfs.WfsGetFeatureHandlers.HandleGetFeatureAsync(HttpRequest request, IQueryCollection query, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IMetadataRegistry registry, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsGetFeatureHandlers.cs:line 53\n   at Honua.Server.Host.Wfs.WfsHandlers.HandleAsync(HttpContext context, IMetadataRegistry metadataRegistry, ICatalogProjectionService catalog, IFeatureContextResolver contextResolver, IFeatureRepository repository, IWfsLockManager lockManager, IFeatureEditOrchestrator editOrchestrator, IResourceAuthorizationService authorizationService, ISecurityAuditLogger auditLogger, ILoggerFactory loggerFactory, ICsvExporter csvExporter, IShapefileExporter shapefileExporter, IWfsSchemaCache schemaCache, IOptions`1 wfsOptions, CancellationToken cancellationToken) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Wfs/WfsHandlers.cs:line 96\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\n   at Honua.Server.Host.Middleware.SecurityPolicyMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityPolicyMiddleware.cs:line 90\n   at Honua.Server.Host.Middleware.CsrfValidationMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/CsrfValidationMiddleware.cs:line 68\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Observability.ApiMetricsMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Observability/ApiMetricsMiddleware.cs:line 87\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.<>c__DisplayClass11_0.<<InvokeAwaited>g__ExecuteResponseAsync|0>d.MoveNext()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.OutputCaching.WorkDispatcher`2.ScheduleAsync(TKey key, Func`2 valueFactory)\n   at Microsoft.AspNetCore.OutputCaching.OutputCacheMiddleware.InvokeAwaited(HttpContext httpContext, IReadOnlyList`1 policies)\n   at Honua.Server.Host.Middleware.DeprecationWarningMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/DeprecationWarningMiddleware.cs:line 134\n   at Honua.Server.Host.Middleware.ApiVersionMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/ApiVersionMiddleware.cs:line 110\n   at Honua.Server.Host.Extensions.WebApplicationExtensions.<>c.<<UseHonuaLocalization>b__12_0>d.MoveNext() in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Extensions/WebApplicationExtensions.cs:line 352\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Localization.RequestLocalizationMiddleware.Invoke(HttpContext context)\n   at Honua.Server.Host.Middleware.LegacyApiRedirectMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/LegacyApiRedirectMiddleware.cs:line 121\n   at Honua.Server.Host.Middleware.RequestResponseLoggingMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/RequestResponseLoggingMiddleware.cs:line 60\n   at Microsoft.AspNetCore.ResponseCompression.ResponseCompressionMiddleware.InvokeCore(HttpContext context)\n   at Honua.Server.Host.Middleware.SecurityHeadersMiddleware.InvokeAsync(HttpContext context) in /home/mike/projects/Honua.Server/src/Honua.Server.Host/Middleware/SecurityHeadersMiddleware.cs:line 51\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)"}
assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_with_datetime_single_instant - assert 500 in [200, 400]
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_with_open_ended_datetime - assert 500 in [200, 400]
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_with_combined_filters - assert 500 in [200, 400]
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_pagination_with_limit_and_offset - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_next_link_pagination - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_self_link_present - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_get_single_item_returns_geojson_feature - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_get_nonexistent_item_returns_404 - AssertionError: Expected 404 for non-existent item, got 500
assert 500 == 404
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_with_crs_parameter - AssertionError: Expected 200 or 400, got 500
assert 500 in [200, 400]
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_default_crs_is_wgs84 - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_geojson_format_via_accept_header - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_json_format_via_accept_header - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_format_via_f_parameter - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_search_get_returns_features - AssertionError: Expected 200 or 404, got 400
assert 400 in [200, 404]
 +  where 400 = <Response [400]>.status_code
FAILED test_ogc_features_requests.py::test_search_post_returns_features - AssertionError: Expected 200 or 404, got 403
assert 403 in [200, 404]
 +  where 403 = <Response [403]>.status_code
FAILED test_ogc_features_requests.py::test_search_with_collections_filter - assert 400 == 200
 +  where 400 = <Response [400]>.status_code
FAILED test_ogc_features_requests.py::test_search_with_bbox_filter - assert 400 == 200
 +  where 400 = <Response [400]>.status_code
FAILED test_ogc_features_requests.py::test_excessive_limit_is_capped - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_include_numberreturned - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
FAILED test_ogc_features_requests.py::test_items_include_numbermatched - assert 500 == 200
 +  where 500 = <Response [500]>.status_code
====== 89 failed, 170 passed, 73 skipped, 22 warnings, 6 errors in 51.34s ======
