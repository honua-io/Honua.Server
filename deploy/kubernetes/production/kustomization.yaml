apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: honua

resources:
- 00-namespace.yaml
- 01-secrets.yaml
- 02-configmap.yaml
- 03-deployment.yaml
- 04-service.yaml
- 05-serviceaccount.yaml
- 06-ingress.yaml
- 07-hpa.yaml
- 08-pdb.yaml
- 09-networkpolicy.yaml
# Uncomment if Prometheus Operator is installed
# - 10-servicemonitor.yaml

commonLabels:
  app.kubernetes.io/part-of: honua
  app.kubernetes.io/managed-by: kustomize

commonAnnotations:
  version: "1.0.0"
  documentation: "https://github.com/honuaio/honua"

# Image configurations - Update with your registry
images:
- name: honuaio/honua-server
  newName: honuaio/honua-server
  newTag: latest

# ConfigMap generator (alternative to manual ConfigMap)
# configMapGenerator:
# - name: honua-config
#   envs:
#   - config.env

# Secret generator (for local development only - use external secrets in production)
# secretGenerator:
# - name: honua-database-secret
#   envs:
#   - secrets.env

# Replicas (can be overridden per environment)
replicas:
- name: honua-server
  count: 3
