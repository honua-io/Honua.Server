@page "/components/layer-list"
<PageTitle>LayerList Demo - Honua MapSDK</PageTitle>

<div class="dashboard-container">
    <div class="dashboard-header">
        <div>
            <h1 class="dashboard-title">
                <MudIcon Icon="@Icons.Material.Filled.Layers" Class="mr-2" />
                HonuaLayerList Component
            </h1>
            <p class="dashboard-subtitle">
                Advanced layer management with drag & drop reordering, opacity controls, search, and legend integration.
            </p>
        </div>
    </div>

    <MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6" Color="Color.Primary">
        <!-- Basic Example -->
        <MudTabPanel Icon="@Icons.Material.Filled.ViewList" Text="Basic">
            <MudGrid>
                <MudItem xs="12" md="8">
                    <div style="height: 600px;">
                        <HonuaMap Id="layerlist-basic-map"
                                  MapStyle="https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json"
                                  Center="new[] { -122.4194, 37.7749 }"
                                  Zoom="12"
                                  Style="width: 100%; height: 100%; border-radius: 8px;" />
                    </div>
                </MudItem>
                <MudItem xs="12" md="4">
                    <div class="component-panel" style="height: 600px; overflow-y: auto;">
                        <div class="panel-header">
                            <h3 class="panel-title">Layer List</h3>
                        </div>
                        <HonuaLayerList Id="basic-layer-list"
                                        SyncWith="layerlist-basic-map"
                                        ShowOpacitySlider="true"
                                        ShowVisibilityToggle="true"
                                        AllowReordering="false"
                                        Style="width: 100%;" />
                    </div>
                </MudItem>
            </MudGrid>

            <MudText Typo="Typo.h6" Class="mt-4 mb-2">Key Features</MudText>
            <MudList Dense="true">
                <MudListItem Icon="@Icons.Material.Filled.Visibility" IconColor="Color.Primary">
                    Toggle layer visibility with checkbox
                </MudListItem>
                <MudListItem Icon="@Icons.Material.Filled.Opacity" IconColor="Color.Primary">
                    Adjust layer opacity with slider (0-100%)
                </MudListItem>
                <MudListItem Icon="@Icons.Material.Filled.ZoomIn" IconColor="Color.Primary">
                    Zoom to layer extent with button
                </MudListItem>
            </MudList>
        </MudTabPanel>

        <!-- Advanced Example -->
        <MudTabPanel Icon="@Icons.Material.Filled.Tune" Text="Advanced">
            <MudGrid>
                <MudItem xs="12" md="8">
                    <div style="height: 600px;">
                        <HonuaMap Id="layerlist-advanced-map"
                                  MapStyle="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json"
                                  Center="new[] { -122.4194, 37.7749 }"
                                  Zoom="11"
                                  Style="width: 100%; height: 100%; border-radius: 8px;" />
                    </div>
                </MudItem>
                <MudItem xs="12" md="4">
                    <div class="component-panel" style="height: 600px; overflow-y: auto;">
                        <div class="panel-header">
                            <h3 class="panel-title">Advanced Layer List</h3>
                            <MudIconButton Icon="@Icons.Material.Filled.Settings" Size="Size.Small" />
                        </div>
                        <HonuaLayerList Id="advanced-layer-list"
                                        SyncWith="layerlist-advanced-map"
                                        ShowOpacitySlider="true"
                                        ShowVisibilityToggle="true"
                                        AllowReordering="true"
                                        ShowSearch="true"
                                        ShowLegend="true"
                                        GroupLayers="true"
                                        Style="width: 100%;" />
                    </div>
                </MudItem>
            </MudGrid>

            <MudAlert Severity="Severity.Info" Class="mt-4">
                <strong>Advanced Features:</strong> Drag layers to reorder, search by name, group by category, and view inline legends.
            </MudAlert>

            <div class="code-example mt-4">
                <pre><code>&lt;HonuaLayerList Id="layer-list"
                SyncWith="my-map"
                ShowOpacitySlider="true"
                ShowVisibilityToggle="true"
                AllowReordering="true"
                ShowSearch="true"
                ShowLegend="true"
                GroupLayers="true" /&gt;</code></pre>
            </div>
        </MudTabPanel>

        <!-- Groups Example -->
        <MudTabPanel Icon="@Icons.Material.Filled.Folder" Text="Groups">
            <MudText Typo="Typo.h6" Class="mb-3">Layer Groups</MudText>
            <MudText Typo="Typo.body1" Class="mb-4">
                Organize layers into collapsible groups for better management of complex maps.
            </MudText>

            <MudGrid>
                <MudItem xs="12" md="8">
                    <div style="height: 600px;">
                        <HonuaMap Id="layerlist-groups-map"
                                  MapStyle="https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json"
                                  Center="new[] { -122.4194, 37.7749 }"
                                  Zoom="12"
                                  Style="width: 100%; height: 100%; border-radius: 8px;" />
                    </div>
                </MudItem>
                <MudItem xs="12" md="4">
                    <div class="component-panel" style="height: 600px; overflow-y: auto;">
                        <div class="panel-header">
                            <h3 class="panel-title">Grouped Layers</h3>
                        </div>
                        <MudTreeView>
                            <MudTreeViewItem Text="Base Layers" Expanded="true">
                                <MudTreeViewItem Text="Streets" Icon="@Icons.Material.Filled.Map" />
                                <MudTreeViewItem Text="Satellite" Icon="@Icons.Material.Filled.Satellite" />
                            </MudTreeViewItem>
                            <MudTreeViewItem Text="Reference Layers" Expanded="true">
                                <MudTreeViewItem Text="Parcels" Icon="@Icons.Material.Filled.Landscape" />
                                <MudTreeViewItem Text="Buildings" Icon="@Icons.Material.Filled.HomeWork" />
                                <MudTreeViewItem Text="Roads" Icon="@Icons.Material.Filled.Route" />
                            </MudTreeViewItem>
                            <MudTreeViewItem Text="Data Layers" Expanded="false">
                                <MudTreeViewItem Text="Demographics" Icon="@Icons.Material.Filled.People" />
                                <MudTreeViewItem Text="Economics" Icon="@Icons.Material.Filled.TrendingUp" />
                            </MudTreeViewItem>
                        </MudTreeView>
                    </div>
                </MudItem>
            </MudGrid>

            <div class="code-example mt-4">
                <pre><code>// Layer group configuration
var layerGroups = new[]
{
    new LayerGroup
    {
        Name = "Base Layers",
        Layers = new[] { "streets", "satellite" },
        Expanded = true
    },
    new LayerGroup
    {
        Name = "Reference Layers",
        Layers = new[] { "parcels", "buildings", "roads" },
        Expanded = true
    }
};</code></pre>
            </div>
        </MudTabPanel>

        <!-- API Reference -->
        <MudTabPanel Icon="@Icons.Material.Filled.Code" Text="API">
            <MudText Typo="Typo.h6" Class="mb-3">Component Properties</MudText>
            <MudSimpleTable Elevation="0" Dense="true">
                <thead>
                    <tr>
                        <th>Property</th>
                        <th>Type</th>
                        <th>Default</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>Id</code></td>
                        <td>string</td>
                        <td>-</td>
                        <td>Unique identifier for the component</td>
                    </tr>
                    <tr>
                        <td><code>SyncWith</code></td>
                        <td>string</td>
                        <td>-</td>
                        <td>Map ID to synchronize with</td>
                    </tr>
                    <tr>
                        <td><code>ShowOpacitySlider</code></td>
                        <td>bool</td>
                        <td>true</td>
                        <td>Show opacity control slider</td>
                    </tr>
                    <tr>
                        <td><code>ShowVisibilityToggle</code></td>
                        <td>bool</td>
                        <td>true</td>
                        <td>Show visibility checkbox</td>
                    </tr>
                    <tr>
                        <td><code>AllowReordering</code></td>
                        <td>bool</td>
                        <td>false</td>
                        <td>Enable drag & drop reordering</td>
                    </tr>
                    <tr>
                        <td><code>ShowSearch</code></td>
                        <td>bool</td>
                        <td>false</td>
                        <td>Show layer search box</td>
                    </tr>
                    <tr>
                        <td><code>ShowLegend</code></td>
                        <td>bool</td>
                        <td>false</td>
                        <td>Show inline legend for each layer</td>
                    </tr>
                    <tr>
                        <td><code>GroupLayers</code></td>
                        <td>bool</td>
                        <td>false</td>
                        <td>Group layers by category</td>
                    </tr>
                </tbody>
            </MudSimpleTable>

            <MudText Typo="Typo.h6" Class="mt-4 mb-3">Events</MudText>
            <MudSimpleTable Elevation="0" Dense="true">
                <thead>
                    <tr>
                        <th>Event</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>OnLayerVisibilityChanged</code></td>
                        <td>EventCallback&lt;LayerVisibilityEventArgs&gt;</td>
                        <td>Fired when layer visibility changes</td>
                    </tr>
                    <tr>
                        <td><code>OnLayerOpacityChanged</code></td>
                        <td>EventCallback&lt;LayerOpacityEventArgs&gt;</td>
                        <td>Fired when layer opacity changes</td>
                    </tr>
                    <tr>
                        <td><code>OnLayersReordered</code></td>
                        <td>EventCallback&lt;LayerReorderEventArgs&gt;</td>
                        <td>Fired when layers are reordered</td>
                    </tr>
                </tbody>
            </MudSimpleTable>
        </MudTabPanel>
    </MudTabs>
</div>
