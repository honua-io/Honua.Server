# Application Insights Alert Architecture

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Honua Azure Infrastructure                            â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Function    â”‚  â”‚ Application  â”‚  â”‚  PostgreSQL  â”‚  â”‚  Azure OpenAI   â”‚ â”‚
â”‚  â”‚ App         â”‚  â”‚  Insights    â”‚  â”‚  Database    â”‚  â”‚   + AI Search   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â”‚                â”‚                  â”‚                    â”‚           â”‚
â”‚         â”‚  Telemetry     â”‚  Metrics         â”‚  DB Metrics        â”‚  API Metrics â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                          â”‚                  â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚                  â”‚
                           â–¼                  â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚    Azure Monitor Alert Engine            â”‚
            â”‚                                          â”‚
            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
            â”‚  â”‚  22 Metric Alert Rules             â”‚ â”‚
            â”‚  â”‚  - Availability (2)                â”‚ â”‚
            â”‚  â”‚  - Performance (3)                 â”‚ â”‚
            â”‚  â”‚  - Error Rate (3)                  â”‚ â”‚
            â”‚  â”‚  - Resource (4)                    â”‚ â”‚
            â”‚  â”‚  - AI/LLM (3)                      â”‚ â”‚
            â”‚  â”‚  - Database (4)                    â”‚ â”‚
            â”‚  â”‚                                    â”‚ â”‚
            â”‚  â”‚  3 Smart Detection Rules           â”‚ â”‚
            â”‚  â”‚  - Failure Anomalies (ML)          â”‚ â”‚
            â”‚  â”‚  - Slow Page Load (ML)             â”‚ â”‚
            â”‚  â”‚  - Slow Server Response (ML)       â”‚ â”‚
            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
            â”‚                                          â”‚
            â”‚  Alert Evaluation:                       â”‚
            â”‚  â€¢ Frequency: Every 5 minutes            â”‚
            â”‚  â€¢ Window: 15 minute rolling             â”‚
            â”‚  â€¢ Severity: Sev0 â†’ Sev3                 â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                             â”‚
            â–¼                             â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Critical Alerts      â”‚    â”‚ Warning Alerts       â”‚
  â”‚ Action Group         â”‚    â”‚ Action Group         â”‚
  â”‚ (Sev0, Sev1)        â”‚    â”‚ (Sev2, Sev3)        â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                            â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚        â”‚          â”‚        â”‚        â”‚        â”‚
         â–¼        â–¼          â–¼        â–¼        â–¼        â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Email  â”‚ â”‚ SMS â”‚ â”‚ Azure  â”‚ â”‚Webhook â”‚ â”‚Emailâ”‚ â”‚Webhook â”‚
    â”‚        â”‚ â”‚     â”‚ â”‚  App   â”‚ â”‚        â”‚ â”‚     â”‚ â”‚Optionalâ”‚
    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚         â”‚        â”‚          â”‚         â”‚        â”‚
        â–¼         â–¼        â–¼          â–¼         â–¼        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                  Notification Channels                      â”‚
   â”‚                                                              â”‚
   â”‚  ğŸ“§ Email          ğŸ’¬ Slack         ğŸ“± Mobile App           â”‚
   â”‚  ğŸ“± SMS            ğŸ’¼ Teams         ğŸ”” PagerDuty            â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Alert Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Alert Lifecycle                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. METRIC COLLECTION (Real-time)
   â”‚
   â”œâ”€â–º Application Insights collects metrics
   â”‚   â€¢ Request count, duration, success rate
   â”‚   â€¢ Exception count
   â”‚   â€¢ Dependency calls
   â”‚
   â”œâ”€â–º Function App metrics
   â”‚   â€¢ CPU percentage
   â”‚   â€¢ Memory percentage
   â”‚   â€¢ HTTP queue length
   â”‚
   â”œâ”€â–º PostgreSQL metrics
   â”‚   â€¢ CPU/Memory percentage
   â”‚   â€¢ Active connections
   â”‚   â€¢ Connection failures
   â”‚
   â””â”€â–º Azure OpenAI metrics
       â€¢ Rate limit errors
       â€¢ Tokens generated
       â€¢ Throttling percentage

                    â†“

2. ALERT EVALUATION (Every 5 minutes)
   â”‚
   â”œâ”€â–º Compare current metric value vs threshold
   â”‚   â€¢ Rolling 15-minute window
   â”‚   â€¢ Static or dynamic threshold
   â”‚   â€¢ Aggregation: Average, Count, Total
   â”‚
   â”œâ”€â–º Check if condition met
   â”‚   â€¢ Operator: GreaterThan, LessThan, Equals
   â”‚   â€¢ Multiple criteria supported
   â”‚   â€¢ Dimension filtering
   â”‚
   â””â”€â–º Determine alert state
       â€¢ Firing â†’ Send notification
       â€¢ Resolved â†’ Send resolution notification
       â€¢ No change â†’ Do nothing

                    â†“

3. NOTIFICATION ROUTING (Immediate)
   â”‚
   â”œâ”€â–º Select Action Group based on severity
   â”‚   â€¢ Sev0 (Critical) â†’ Critical Action Group
   â”‚   â€¢ Sev1 (Error) â†’ Critical Action Group
   â”‚   â€¢ Sev2 (Warning) â†’ Warning Action Group
   â”‚
   â”œâ”€â–º Format alert payload
   â”‚   â€¢ Common Alert Schema (JSON)
   â”‚   â€¢ Include metric value, threshold, context
   â”‚   â€¢ Add custom properties
   â”‚
   â””â”€â–º Send to all receivers in action group
       â€¢ Email (formatted HTML)
       â€¢ SMS (text message)
       â€¢ Azure App (push notification)
       â€¢ Webhook (JSON payload)

                    â†“

4. NOTIFICATION DELIVERY
   â”‚
   â”œâ”€â–º Email
   â”‚   â€¢ Formatted alert details
   â”‚   â€¢ Remediation steps
   â”‚   â€¢ Links to Azure Portal
   â”‚   â€¢ Delivered within 1 minute
   â”‚
   â”œâ”€â–º SMS (Optional)
   â”‚   â€¢ Brief alert summary
   â”‚   â€¢ Severity and resource
   â”‚   â€¢ Delivered within 30 seconds
   â”‚
   â”œâ”€â–º Azure Mobile App
   â”‚   â€¢ Push notification
   â”‚   â€¢ Tap to view details
   â”‚   â€¢ Delivered within 10 seconds
   â”‚
   â””â”€â–º Webhook
       â€¢ POST to configured URL
       â€¢ Common Alert Schema JSON
       â€¢ Custom processing (Slack, Teams, PagerDuty)
       â€¢ Delivered within 5 seconds

                    â†“

5. INCIDENT RESPONSE
   â”‚
   â”œâ”€â–º On-Call Engineer receives notification
   â”‚   â€¢ Acknowledges alert
   â”‚   â€¢ Reviews Application Insights
   â”‚   â€¢ Investigates root cause
   â”‚
   â”œâ”€â–º Takes remediation action
   â”‚   â€¢ Restart service
   â”‚   â€¢ Scale up resources
   â”‚   â€¢ Fix configuration
   â”‚   â€¢ Deploy hotfix
   â”‚
   â””â”€â–º Monitors for resolution
       â€¢ Metric returns to normal
       â€¢ Alert automatically resolves
       â€¢ Resolved notification sent
```

## Alert Severity Matrix

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Alert Severity Levels                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Severityâ”‚ Level  â”‚ Response    â”‚ Notifications   â”‚ Examples       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚        â”‚             â”‚ â€¢ Email         â”‚ â€¢ Service down â”‚
â”‚  Sev0   â”‚Criticalâ”‚ Immediate   â”‚ â€¢ SMS           â”‚ â€¢ DB unavail   â”‚
â”‚         â”‚        â”‚ (24/7)      â”‚ â€¢ Azure App     â”‚ â€¢ Critical OOM â”‚
â”‚         â”‚        â”‚             â”‚ â€¢ Webhook       â”‚ â€¢ 0 requests   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚        â”‚             â”‚ â€¢ Email         â”‚ â€¢ High errors  â”‚
â”‚  Sev1   â”‚ Error  â”‚ 1 hour      â”‚ â€¢ Azure App     â”‚ â€¢ Rate limits  â”‚
â”‚         â”‚        â”‚             â”‚ â€¢ Webhook       â”‚ â€¢ DB conn fail â”‚
â”‚         â”‚        â”‚             â”‚                 â”‚ â€¢ Exceptions   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚        â”‚             â”‚ â€¢ Email         â”‚ â€¢ High latency â”‚
â”‚  Sev2   â”‚Warning â”‚ 4 hours     â”‚ â€¢ Webhook       â”‚ â€¢ High CPU     â”‚
â”‚         â”‚        â”‚             â”‚   (optional)    â”‚ â€¢ High memory  â”‚
â”‚         â”‚        â”‚             â”‚                 â”‚ â€¢ Token usage  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚        â”‚ Next        â”‚ â€¢ Email         â”‚ â€¢ Trends       â”‚
â”‚  Sev3   â”‚  Info  â”‚ business    â”‚   (digest)      â”‚ â€¢ Capacity     â”‚
â”‚         â”‚        â”‚ day         â”‚                 â”‚ â€¢ Planning     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Metric Categories

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Alert Categories                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Category    â”‚ Count â”‚ Alerts                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Availability â”‚   2   â”‚ â€¢ Service down (0 requests)             â”‚
â”‚              â”‚       â”‚ â€¢ Low availability (<99%)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Performance  â”‚   3   â”‚ â€¢ High response time (>1s)              â”‚
â”‚              â”‚       â”‚ â€¢ Critical response time (>5s)          â”‚
â”‚              â”‚       â”‚ â€¢ Slow dependencies (>2s)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Error Rate   â”‚   3   â”‚ â€¢ High error rate (>5%)                 â”‚
â”‚              â”‚       â”‚ â€¢ High exception rate                   â”‚
â”‚              â”‚       â”‚ â€¢ Failed dependencies                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Resource     â”‚   4   â”‚ â€¢ High memory (>90%, >95%)              â”‚
â”‚              â”‚       â”‚ â€¢ High CPU (>80%)                       â”‚
â”‚              â”‚       â”‚ â€¢ HTTP queue length (>10)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AI/LLM       â”‚   3   â”‚ â€¢ OpenAI rate limit (>5 errors)         â”‚
â”‚              â”‚       â”‚ â€¢ High token usage (>500K/hr)           â”‚
â”‚              â”‚       â”‚ â€¢ AI Search throttling (>10%)           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Database     â”‚   4   â”‚ â€¢ High CPU (>80%)                       â”‚
â”‚              â”‚       â”‚ â€¢ High memory (>90%)                    â”‚
â”‚              â”‚       â”‚ â€¢ High connections (>80)                â”‚
â”‚              â”‚       â”‚ â€¢ Connection failed (>5)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Smart        â”‚   3   â”‚ â€¢ Failure anomalies (ML)                â”‚
â”‚ Detection    â”‚       â”‚ â€¢ Slow page load (ML)                   â”‚
â”‚              â”‚       â”‚ â€¢ Slow server response (ML)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOTAL        â”‚  22   â”‚ Comprehensive monitoring coverage       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Integration Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    External Integrations                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Azure Monitor Alert   â”‚
â”‚   (Common Schema)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Webhook POST (JSON)
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚         â”‚         â”‚           â”‚              â”‚
    â–¼         â–¼         â–¼           â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Slack  â”‚ â”‚ Teams  â”‚ â”‚ Logic  â”‚ â”‚ Custom  â”‚ â”‚   ...    â”‚
â”‚        â”‚ â”‚        â”‚ â”‚  App   â”‚ â”‚ Handler â”‚ â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚  PagerDuty   â”‚
                   â”‚  (Incidents) â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Integration Formats:

â€¢ Slack: Formatted message with emoji, buttons
â€¢ Teams: Adaptive Card with actions
â€¢ PagerDuty: Incident creation with severity mapping
â€¢ Custom: Azure Function for processing and routing
```

## Cost Breakdown

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Monthly Costs                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Component                â”‚ Count   â”‚ Unit Costâ”‚ Total            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Static Metric Alerts     â”‚   21    â”‚  $0.10   â”‚ $2.10            â”‚
â”‚ Dynamic Metric Alerts    â”‚    1    â”‚  $1.00   â”‚ $1.00            â”‚
â”‚ Action Groups            â”‚    2    â”‚  Free*   â”‚ $0.00            â”‚
â”‚ Smart Detection Rules    â”‚    3    â”‚  Free    â”‚ $0.00            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TOTAL                    â”‚   27    â”‚          â”‚ $3.10/month      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* First 1,000 notifications per month free
  Additional: $0.02 per notification

Annual Cost: ~$37/year
```

## Monitoring Dashboard

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Application Insights Dashboard                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  Availability: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 99.8%  âœ“                  â”‚
â”‚  Avg Response: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 387ms                âœ“                  â”‚
â”‚  Error Rate:   â–ˆâ–ˆ 2.1%                       âœ“                  â”‚
â”‚  Memory:       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 72%              âœ“                  â”‚
â”‚  CPU:          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 58%                 âœ“                  â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Active Alerts (Last 24 Hours)                               â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ğŸŸ¢ All systems operational                                  â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚ Recent Resolved:                                            â”‚ â”‚
â”‚  â”‚ â€¢ High Response Time (resolved 2h ago)                      â”‚ â”‚
â”‚  â”‚ â€¢ High CPU Usage (resolved 8h ago)                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Alert History (Last 7 Days)                                 â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Total Alerts:          12                                   â”‚ â”‚
â”‚  â”‚ â€¢ Critical (Sev0):     0                                    â”‚ â”‚
â”‚  â”‚ â€¢ Error (Sev1):        2                                    â”‚ â”‚
â”‚  â”‚ â€¢ Warning (Sev2):      10                                   â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚ False Positive Rate:   8.3% (1/12)                          â”‚ â”‚
â”‚  â”‚ Avg Resolution Time:   47 minutes                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## File Structure

```
infrastructure/terraform/azure/
â”œâ”€â”€ main.tf                              # Core infrastructure
â”œâ”€â”€ app-insights-alerts.tf               # Alert rules (791 lines)
â”‚   â”œâ”€â”€ Action Groups (2)
â”‚   â”œâ”€â”€ Metric Alerts (22)
â”‚   â””â”€â”€ Smart Detection (3)
â”‚
â”œâ”€â”€ ALERT_THRESHOLDS.md                  # Detailed documentation (1,129 lines)
â”‚   â”œâ”€â”€ All 22 alerts documented
â”‚   â”œâ”€â”€ Remediation procedures
â”‚   â”œâ”€â”€ Investigation queries
â”‚   â””â”€â”€ Threshold tuning guide
â”‚
â”œâ”€â”€ ALERT_NOTIFICATION_SAMPLES.md        # Integration examples (853 lines)
â”‚   â”œâ”€â”€ Email samples
â”‚   â”œâ”€â”€ Webhook payloads
â”‚   â”œâ”€â”€ Slack integration
â”‚   â”œâ”€â”€ Teams integration
â”‚   â””â”€â”€ PagerDuty setup
â”‚
â”œâ”€â”€ ALERT_QUICK_REFERENCE.md             # On-call guide (444 lines)
â”‚   â”œâ”€â”€ Priority matrix
â”‚   â”œâ”€â”€ Quick fixes
â”‚   â”œâ”€â”€ Common commands
â”‚   â””â”€â”€ Escalation paths
â”‚
â”œâ”€â”€ ALERTS_README.md                     # Overview (683 lines)
â”‚   â”œâ”€â”€ Quick start
â”‚   â”œâ”€â”€ Configuration
â”‚   â”œâ”€â”€ Testing
â”‚   â””â”€â”€ Best practices
â”‚
â”œâ”€â”€ DEPLOYMENT_GUIDE.md                  # 5-minute deploy (150 lines)
â”‚   â”œâ”€â”€ Prerequisites
â”‚   â”œâ”€â”€ Quick deployment
â”‚   â””â”€â”€ Verification
â”‚
â””â”€â”€ ALERT_ARCHITECTURE_DIAGRAM.md        # This file
    â””â”€â”€ Visual architecture diagrams
```

---

**Total**: 7 files, 4,550+ lines of code and documentation
**Ready to Deploy**: âœ… Yes
**Estimated Setup Time**: 5 minutes
**Monthly Cost**: $3.10
